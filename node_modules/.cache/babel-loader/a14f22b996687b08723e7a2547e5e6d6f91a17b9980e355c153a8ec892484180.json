{"ast":null,"code":"import React,{useState}from\"react\";import{Card,CardContent,CardHeader,CardTitle}from\"../ui/card\";import{Upload,FileText,X}from\"lucide-react\";import{Button}from\"../ui/button\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CSVInputs(_ref){let{priceCSV,setPriceCSV,flowCSV,setFlowCSV}=_ref;const[priceFileName,setPriceFileName]=useState(\"\");const[flowFileName,setFlowFileName]=useState(\"\");const handleFileUpload=(file,setter,fileNameSetter)=>{if(!file)return;const reader=new FileReader();reader.onload=e=>{setter(e.target.result);fileNameSetter(file.name);};reader.readAsText(file);};const clearPriceData=()=>{setPriceCSV(\"\");setPriceFileName(\"\");};const clearFlowData=()=>{setFlowCSV(\"\");setFlowFileName(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-base\",children:\"\\uAC00\\uACA9/\\uAC70\\uB798\\uB7C9 CSV \\uD30C\\uC77C\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[priceFileName?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 text-slate-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:priceFileName})]}),/*#__PURE__*/_jsx(Button,{onClick:clearPriceData,variant:\"ghost\",size:\"sm\",className:\"h-6 w-6 p-0\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}):/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-8 h-8 text-slate-400 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-600\",children:\"CSV \\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-slate-400 mt-1\",children:\"date, close, open, high, low, volume\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",accept:\".csv\",onChange:e=>handleFileUpload(e.target.files[0],setPriceCSV,setPriceFileName)})]}),/*#__PURE__*/_jsxs(\"details\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-slate-600 hover:text-slate-800\",children:\"\\uB610\\uB294 CSV \\uD14D\\uC2A4\\uD2B8 \\uC9C1\\uC811 \\uC785\\uB825\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-32 mt-2 p-3 border rounded-lg focus:outline-none focus:ring focus:ring-slate-200 text-xs font-mono\",placeholder:\"date,close,open,high,low,volume\\n2025-08-01,19500,19820,19400,19710,2210000\\n...\",value:priceCSV,onChange:e=>{setPriceCSV(e.target.value);setPriceFileName(\"\");}})]})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-base\",children:\"\\uC218\\uAE09 CSV \\uD30C\\uC77C (KRX \\uC138\\uBD80)\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[flowFileName?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 text-slate-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:flowFileName})]}),/*#__PURE__*/_jsx(Button,{onClick:clearFlowData,variant:\"ghost\",size:\"sm\",className:\"h-6 w-6 p-0\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}):/*#__PURE__*/_jsxs(\"label\",{className:\"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-8 h-8 text-slate-400 mb-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-600\",children:\"CSV \\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-slate-400 mt-1\",children:\"\\uB0A0\\uC9DC, \\uAE08\\uC735\\uD22C\\uC790, \\uBCF4\\uD5D8, \\uD22C\\uC2E0, \\uC0AC\\uBAA8...\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",accept:\".csv\",onChange:e=>handleFileUpload(e.target.files[0],setFlowCSV,setFlowFileName)})]}),/*#__PURE__*/_jsxs(\"details\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-slate-600 hover:text-slate-800\",children:\"\\uB610\\uB294 CSV \\uD14D\\uC2A4\\uD2B8 \\uC9C1\\uC811 \\uC785\\uB825\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-32 mt-2 p-3 border rounded-lg focus:outline-none focus:ring focus:ring-slate-200 text-xs font-mono\",placeholder:\"\\uB0A0\\uC9DC,\\uAE08\\uC735\\uD22C\\uC790,\\uBCF4\\uD5D8,\\uD22C\\uC2E0,\\uC0AC\\uBAA8...\\n2025-08-01,1200000000,-300000000...\",value:flowCSV,onChange:e=>{setFlowCSV(e.target.value);setFlowFileName(\"\");}})]})]})})]})]});}","map":{"version":3,"names":["React","useState","Card","CardContent","CardHeader","CardTitle","Upload","FileText","X","Button","jsx","_jsx","jsxs","_jsxs","CSVInputs","_ref","priceCSV","setPriceCSV","flowCSV","setFlowCSV","priceFileName","setPriceFileName","flowFileName","setFlowFileName","handleFileUpload","file","setter","fileNameSetter","reader","FileReader","onload","e","target","result","name","readAsText","clearPriceData","clearFlowData","className","children","onClick","variant","size","type","accept","onChange","files","placeholder","value"],"sources":["C:/Users/kloud/OneDrive/Desktop/Paradise/src/components/controls/CSVInputs.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Upload, FileText, X } from \"lucide-react\";\nimport { Button } from \"../ui/button\";\n\nexport default function CSVInputs({ priceCSV, setPriceCSV, flowCSV, setFlowCSV }) {\n  const [priceFileName, setPriceFileName] = useState(\"\");\n  const [flowFileName, setFlowFileName] = useState(\"\");\n  \n  const handleFileUpload = (file, setter, fileNameSetter) => {\n    if (!file) return;\n    \n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setter(e.target.result);\n      fileNameSetter(file.name);\n    };\n    reader.readAsText(file);\n  };\n  \n  const clearPriceData = () => {\n    setPriceCSV(\"\");\n    setPriceFileName(\"\");\n  };\n  \n  const clearFlowData = () => {\n    setFlowCSV(\"\");\n    setFlowFileName(\"\");\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <Card className=\"shadow-sm\">\n        <CardHeader>\n          <CardTitle className=\"text-base\">가격/거래량 CSV 파일</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {priceFileName ? (\n              <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <FileText className=\"w-4 h-4 text-slate-600\" />\n                  <span className=\"text-sm font-medium\">{priceFileName}</span>\n                </div>\n                <Button\n                  onClick={clearPriceData}\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-6 w-6 p-0\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            ) : (\n              <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors\">\n                <Upload className=\"w-8 h-8 text-slate-400 mb-2\" />\n                <span className=\"text-sm text-slate-600\">CSV 파일 업로드</span>\n                <span className=\"text-xs text-slate-400 mt-1\">\n                  date, close, open, high, low, volume\n                </span>\n                <input\n                  type=\"file\"\n                  className=\"hidden\"\n                  accept=\".csv\"\n                  onChange={(e) => handleFileUpload(e.target.files[0], setPriceCSV, setPriceFileName)}\n                />\n              </label>\n            )}\n            \n            {/* 텍스트 직접 입력 옵션 (토글 가능) */}\n            <details className=\"text-sm\">\n              <summary className=\"cursor-pointer text-slate-600 hover:text-slate-800\">\n                또는 CSV 텍스트 직접 입력\n              </summary>\n              <textarea\n                className=\"w-full h-32 mt-2 p-3 border rounded-lg focus:outline-none focus:ring focus:ring-slate-200 text-xs font-mono\"\n                placeholder=\"date,close,open,high,low,volume\n2025-08-01,19500,19820,19400,19710,2210000\n...\"\n                value={priceCSV}\n                onChange={(e) => {\n                  setPriceCSV(e.target.value);\n                  setPriceFileName(\"\");\n                }}\n              />\n            </details>\n          </div>\n        </CardContent>\n      </Card>\n      \n      <Card className=\"shadow-sm\">\n        <CardHeader>\n          <CardTitle className=\"text-base\">수급 CSV 파일 (KRX 세부)</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {flowFileName ? (\n              <div className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg\">\n                <div className=\"flex items-center gap-2\">\n                  <FileText className=\"w-4 h-4 text-slate-600\" />\n                  <span className=\"text-sm font-medium\">{flowFileName}</span>\n                </div>\n                <Button\n                  onClick={clearFlowData}\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"h-6 w-6 p-0\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            ) : (\n              <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors\">\n                <Upload className=\"w-8 h-8 text-slate-400 mb-2\" />\n                <span className=\"text-sm text-slate-600\">CSV 파일 업로드</span>\n                <span className=\"text-xs text-slate-400 mt-1\">\n                  날짜, 금융투자, 보험, 투신, 사모...\n                </span>\n                <input\n                  type=\"file\"\n                  className=\"hidden\"\n                  accept=\".csv\"\n                  onChange={(e) => handleFileUpload(e.target.files[0], setFlowCSV, setFlowFileName)}\n                />\n              </label>\n            )}\n            \n            {/* 텍스트 직접 입력 옵션 (토글 가능) */}\n            <details className=\"text-sm\">\n              <summary className=\"cursor-pointer text-slate-600 hover:text-slate-800\">\n                또는 CSV 텍스트 직접 입력\n              </summary>\n              <textarea\n                className=\"w-full h-32 mt-2 p-3 border rounded-lg focus:outline-none focus:ring focus:ring-slate-200 text-xs font-mono\"\n                placeholder=\"날짜,금융투자,보험,투신,사모...\n2025-08-01,1200000000,-300000000...\"\n                value={flowCSV}\n                onChange={(e) => {\n                  setFlowCSV(e.target.value);\n                  setFlowFileName(\"\");\n                }}\n              />\n            </details>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}