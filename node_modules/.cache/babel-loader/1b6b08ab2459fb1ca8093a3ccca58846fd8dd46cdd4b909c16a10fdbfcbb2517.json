{"ast":null,"code":"import React from\"react\";import{Card,CardContent,CardHeader,CardTitle}from\"../ui/card\";import{Button}from\"../ui/button\";import{RefreshCw,Database}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DataLoader(_ref){let{setUseSample,setPriceCSV,setFlowCSV,setAnchorIndex}=_ref;const loadLocalData=async()=>{try{// 가격 데이터 로드\nconst priceResponse=await fetch('/price_data.csv');const priceText=await priceResponse.text();setPriceCSV(priceText);// 수급 데이터 로드 (금액 단위)\nconst flowResponse=await fetch('/flows_data.csv');const flowText=await flowResponse.text();setFlowCSV(flowText);setAnchorIndex(0);}catch(error){console.error('데이터 로드 실패:',error);alert('데이터 로드에 실패했습니다. CSV 파일을 직접 업로드해주세요.');}};const loadVolumeData=async()=>{try{// 가격 데이터 로드\nconst priceResponse=await fetch('/price_data.csv');const priceText=await priceResponse.text();setPriceCSV(priceText);// 수급 데이터 로드 (주식수 단위)\nconst flowResponse=await fetch('/flows_volume.csv');const flowText=await flowResponse.text();setFlowCSV(flowText);setAnchorIndex(0);console.log('주식수 단위 데이터 로드 완료');}catch(error){console.error('데이터 로드 실패:',error);alert('데이터 로드에 실패했습니다. CSV 파일을 직접 업로드해주세요.');}};return/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-base\",children:\"\\uB370\\uC774\\uD130 \\uB85C\\uB4DC\"})}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:loadLocalData,children:[/*#__PURE__*/_jsx(Database,{className:\"w-4 h-4 mr-2\"}),\"\\uAE08\\uC561 \\uB2E8\\uC704 \\uB85C\\uB4DC\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:loadVolumeData,children:[/*#__PURE__*/_jsx(Database,{className:\"w-4 h-4 mr-2\"}),\"\\uC8FC\\uC2DD\\uC218 \\uB2E8\\uC704 \\uB85C\\uB4DC\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",onClick:()=>{setAnchorIndex(0);},children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2\"}),\"VWAP \\uC575\\uCEE4 \\uCD08\\uAE30\\uD654\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-slate-500 leading-relaxed\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2460 \\uAC00\\uACA9/\\uAC70\\uB798\\uB7C9 CSV: \",/*#__PURE__*/_jsx(\"code\",{children:\"Date,Open,High,Low,Close,Volume\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2461 \\uC218\\uAE09 CSV: \",/*#__PURE__*/_jsx(\"code\",{children:\"\\uB0A0\\uC9DC,\\uAE08\\uC735\\uD22C\\uC790,\\uBCF4\\uD5D8,\\uD22C\\uC2E0,\\uC0AC\\uBAA8,\\uC740\\uD589,\\uAE30\\uD0C0\\uAE08\\uC735,\\uC5F0\\uAE30\\uAE08,\\uAE30\\uD0C0\\uBC95\\uC778,\\uAC1C\\uC778,\\uC678\\uAD6D\\uC778,\\uAE30\\uD0C0\\uC678\\uAD6D\\uC778,\\uAE30\\uAD00\\uD569\\uACC4\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u2462 \\uB610\\uB294 \\uB2E8\\uC77C CSV(\\uAC00\\uACA9+\\uC218\\uAE09)\\uB3C4 \\uC9C0\\uC6D0: \",/*#__PURE__*/_jsx(\"code\",{children:\"Date,Open,High,Low,Close,Volume,[\\uC218\\uAE09\\uC5F4...] \"}),\" (\\uC88C\\uCE21 \\uD14D\\uC2A4\\uD2B8\\uBC15\\uC2A4\\uC5D0\\uB9CC \\uBD99\\uC5EC\\uB123\\uAE30)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:\"* \\uC218\\uAE09 \\uB2E8\\uC704: \\uC6D0(KRW) \\uAE30\\uC900\\uC73C\\uB85C \\uC785\\uB825\\uB41C \\uAC12\\uC744 \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4. \\uC544\\uB798 \\uB2E8\\uC704 \\uD1A0\\uAE00\\uB85C \\uC2DC\\uAC01\\uD654 \\uB2E8\\uC704\\uB97C \\uBC14\\uAFC0 \\uC218 \\uC788\\uC5B4\\uC694.\"})]})]})]});}","map":{"version":3,"names":["React","Card","CardContent","CardHeader","CardTitle","Button","RefreshCw","Database","jsx","_jsx","jsxs","_jsxs","DataLoader","_ref","setUseSample","setPriceCSV","setFlowCSV","setAnchorIndex","loadLocalData","priceResponse","fetch","priceText","text","flowResponse","flowText","error","console","alert","loadVolumeData","log","className","children","variant","onClick"],"sources":["C:/Users/kloud/OneDrive/Desktop/Paradise/src/components/controls/DataLoader.jsx"],"sourcesContent":["import React from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Button } from \"../ui/button\";\nimport { RefreshCw, Database } from \"lucide-react\";\n\nexport default function DataLoader({ setUseSample, setPriceCSV, setFlowCSV, setAnchorIndex }) {\n  const loadLocalData = async () => {\n    try {\n      // 가격 데이터 로드\n      const priceResponse = await fetch('/price_data.csv');\n      const priceText = await priceResponse.text();\n      setPriceCSV(priceText);\n      \n      // 수급 데이터 로드 (금액 단위)\n      const flowResponse = await fetch('/flows_data.csv');\n      const flowText = await flowResponse.text();\n      setFlowCSV(flowText);\n      \n      setAnchorIndex(0);\n    } catch (error) {\n      console.error('데이터 로드 실패:', error);\n      alert('데이터 로드에 실패했습니다. CSV 파일을 직접 업로드해주세요.');\n    }\n  };\n  \n  const loadVolumeData = async () => {\n    try {\n      // 가격 데이터 로드\n      const priceResponse = await fetch('/price_data.csv');\n      const priceText = await priceResponse.text();\n      setPriceCSV(priceText);\n      \n      // 수급 데이터 로드 (주식수 단위)\n      const flowResponse = await fetch('/flows_volume.csv');\n      const flowText = await flowResponse.text();\n      setFlowCSV(flowText);\n      \n      setAnchorIndex(0);\n      console.log('주식수 단위 데이터 로드 완료');\n    } catch (error) {\n      console.error('데이터 로드 실패:', error);\n      alert('데이터 로드에 실패했습니다. CSV 파일을 직접 업로드해주세요.');\n    }\n  };\n\n  return (\n    <Card className=\"shadow-sm\">\n      <CardHeader>\n        <CardTitle className=\"text-base\">데이터 로드</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-2\">\n        <div className=\"flex gap-2 flex-wrap\">\n          <Button variant=\"outline\" onClick={loadLocalData}>\n            <Database className=\"w-4 h-4 mr-2\"/>금액 단위 로드\n          </Button>\n          <Button variant=\"outline\" onClick={loadVolumeData}>\n            <Database className=\"w-4 h-4 mr-2\"/>주식수 단위 로드\n          </Button>\n          <Button variant=\"ghost\" onClick={() => { setAnchorIndex(0); }}>\n            <RefreshCw className=\"w-4 h-4 mr-2\"/>VWAP 앵커 초기화\n          </Button>\n        </div>\n        <div className=\"text-xs text-slate-500 leading-relaxed\">\n          <div>① 가격/거래량 CSV: <code>Date,Open,High,Low,Close,Volume</code></div>\n          <div>② 수급 CSV: <code>날짜,금융투자,보험,투신,사모,은행,기타금융,연기금,기타법인,개인,외국인,기타외국인,기관합계</code></div>\n          <div>③ 또는 단일 CSV(가격+수급)도 지원: <code>Date,Open,High,Low,Close,Volume,[수급열...] </code> (좌측 텍스트박스에만 붙여넣기)</div>\n          <div className=\"mt-1\">* 수급 단위: 원(KRW) 기준으로 입력된 값을 사용합니다. 아래 단위 토글로 시각화 단위를 바꿀 수 있어요.</div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}