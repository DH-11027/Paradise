{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kloud\\\\OneDrive\\\\Desktop\\\\Paradise\\\\src\\\\components\\\\charts\\\\VolumeProfileChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport { ResponsiveContainer, ComposedChart, Bar, Line, XAxis, YAxis, CartesianGrid, Tooltip as RechartsTooltip, Legend, Cell } from \"recharts\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"../ui/tooltip\";\nimport { Info, BarChart3, TrendingUp } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function VolumeProfileChart({\n  data,\n  expertMode = true\n}) {\n  _s();\n  var _latest$close;\n  // 거래량 프로파일 계산\n  const volumeProfile = useMemo(() => {\n    if (!data || data.length === 0) return {\n      profile: [],\n      poc: 0,\n      valueArea: {}\n    };\n\n    // 가격 범위 계산\n    const prices = data.flatMap(d => [d.high, d.low]);\n    const minPrice = Math.min(...prices);\n    const maxPrice = Math.max(...prices);\n    const priceRange = maxPrice - minPrice;\n    const binSize = priceRange / 20; // 20개 구간으로 나눔\n\n    // 각 가격대별 거래량 집계\n    const bins = {};\n    for (let i = 0; i < 20; i++) {\n      const binStart = minPrice + i * binSize;\n      const binEnd = binStart + binSize;\n      bins[i] = {\n        price: (binStart + binEnd) / 2,\n        priceRange: `${Math.floor(binStart)}-${Math.floor(binEnd)}`,\n        volume: 0,\n        buyVolume: 0,\n        sellVolume: 0\n      };\n    }\n\n    // 거래량 분배\n    data.forEach(d => {\n      // 간단히 고가와 저가 사이에 거래량 균등 분배\n      const highBin = Math.floor((d.high - minPrice) / binSize);\n      const lowBin = Math.floor((d.low - minPrice) / binSize);\n      for (let i = lowBin; i <= highBin && i < 20; i++) {\n        const volumePerBin = d.volume / (highBin - lowBin + 1);\n        bins[i].volume += volumePerBin;\n\n        // 상승일은 매수, 하락일은 매도로 간주\n        if (d.close > d.open) {\n          bins[i].buyVolume += volumePerBin;\n        } else {\n          bins[i].sellVolume += volumePerBin;\n        }\n      }\n    });\n\n    // 배열로 변환하고 정렬\n    const profile = Object.values(bins).sort((a, b) => a.price - b.price);\n\n    // POC (Point of Control) - 가장 많은 거래량이 발생한 가격대\n    const poc = profile.reduce((max, bin) => bin.volume > max.volume ? bin : max, profile[0]);\n\n    // Value Area (전체 거래량의 70%가 발생한 구간)\n    const totalVolume = profile.reduce((sum, bin) => sum + bin.volume, 0);\n    const targetVolume = totalVolume * 0.7;\n\n    // POC를 중심으로 확장하며 Value Area 찾기\n    const pocIndex = profile.findIndex(bin => bin === poc);\n    let valueAreaVolume = poc.volume;\n    let vahIndex = pocIndex; // Value Area High\n    let valIndex = pocIndex; // Value Area Low\n\n    while (valueAreaVolume < targetVolume && (vahIndex < profile.length - 1 || valIndex > 0)) {\n      const upVolume = vahIndex < profile.length - 1 ? profile[vahIndex + 1].volume : 0;\n      const downVolume = valIndex > 0 ? profile[valIndex - 1].volume : 0;\n      if (upVolume >= downVolume && vahIndex < profile.length - 1) {\n        vahIndex++;\n        valueAreaVolume += upVolume;\n      } else if (valIndex > 0) {\n        valIndex--;\n        valueAreaVolume += downVolume;\n      }\n    }\n    return {\n      profile,\n      poc: poc.price,\n      valueArea: {\n        high: profile[vahIndex].price,\n        low: profile[valIndex].price\n      }\n    };\n  }, [data]);\n  const latest = data[data.length - 1] || {};\n  const currentPricePosition = latest.close ? ((latest.close - volumeProfile.valueArea.low) / (volumeProfile.valueArea.high - volumeProfile.valueArea.low) * 100).toFixed(0) : 0;\n  return /*#__PURE__*/_jsxDEV(TooltipProvider, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"flex items-center gap-2 text-base\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), \"\\uAC70\\uB798\\uB7C9 \\uD504\\uB85C\\uD30C\\uC77C \\uBD84\\uC11D\", /*#__PURE__*/_jsxDEV(Tooltip, {\n            children: [/*#__PURE__*/_jsxDEV(TooltipTrigger, {\n              children: /*#__PURE__*/_jsxDEV(Info, {\n                className: \"w-4 h-4 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TooltipContent, {\n              className: \"max-w-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold mb-1\",\n                children: \"Volume Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm mb-2\",\n                children: expertMode ? \"각 가격대별 누적 거래량을 시각화합니다. POC는 가장 많은 거래가 일어난 가격대이며, 강력한 지지/저항선으로 작용합니다.\" : \"어느 가격에서 거래가 많이 일어났는지 보여줍니다. 거래가 많이 일어난 가격은 중요한 기준점이 됩니다.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"POC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 24\n                  }, this), \": \\uCD5C\\uB300 \\uAC70\\uB798 \\uBC1C\\uC0DD \\uAC00\\uACA9\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: \"Value Area\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 24\n                  }, this), \": \\uC804\\uCCB4 \\uAC70\\uB798\\uC758 70% \\uAD6C\\uAC04\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-red-600\",\n                    children: \"\\uBE68\\uAC04\\uC0C9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 24\n                  }, this), \": \\uB9E4\\uC218 \\uC6B0\\uC138\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-blue-600\",\n                    children: \"\\uD30C\\uB780\\uC0C9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 24\n                  }, this), \": \\uB9E4\\uB3C4 \\uC6B0\\uC138\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 grid grid-cols-3 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"\\uD604\\uC7AC\\uAC00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-bold\",\n              children: [(_latest$close = latest.close) === null || _latest$close === void 0 ? void 0 : _latest$close.toLocaleString(), \"\\uC6D0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"VA \\uB0B4 \\uC704\\uCE58: \", currentPricePosition, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-yellow-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"POC (\\uD575\\uC2EC\\uAC00\\uACA9)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-bold\",\n              children: [volumeProfile.poc.toFixed(0), \"\\uC6D0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xs ${latest.close > volumeProfile.poc ? 'text-green-600' : 'text-red-600'}`,\n              children: [\"\\uD604\\uC7AC\\uAC00 \", latest.close > volumeProfile.poc ? '위' : '아래']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-blue-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: \"Value Area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-bold\",\n              children: [volumeProfile.valueArea.low.toFixed(0), \"-\", volumeProfile.valueArea.high.toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"70% \\uAC70\\uB798\\uAD6C\\uAC04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-80\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            children: /*#__PURE__*/_jsxDEV(ComposedChart, {\n              data: volumeProfile.profile,\n              layout: \"horizontal\",\n              margin: {\n                top: 5,\n                right: 30,\n                left: 20,\n                bottom: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"volume\",\n                tick: {\n                  fontSize: 12\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                dataKey: \"price\",\n                domain: [\"auto\", \"auto\"],\n                tick: {\n                  fontSize: 12\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RechartsTooltip, {\n                formatter: (v, name) => {\n                  if (typeof v === \"number\") {\n                    if (name.includes(\"거래량\")) return [v.toLocaleString() + \"주\", name];\n                    return [v.toFixed(0) + \"원\", name];\n                  }\n                  return v;\n                },\n                contentStyle: {\n                  backgroundColor: 'rgba(255, 255, 255, 0.95)',\n                  border: '1px solid #e5e7eb'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"volume\",\n                name: \"\\uCD1D \\uAC70\\uB798\\uB7C9\",\n                children: volumeProfile.profile.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: entry.buyVolume > entry.sellVolume ? '#dc2626' : '#2563eb',\n                  fillOpacity: 0.8\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this), latest.close && /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: () => latest.close,\n                stroke: \"#16a34a\",\n                strokeWidth: 2,\n                strokeDasharray: \"5 5\",\n                name: \"\\uD604\\uC7AC\\uAC00\",\n                dot: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: () => volumeProfile.poc,\n                stroke: \"#f59e0b\",\n                strokeWidth: 3,\n                name: \"POC\",\n                dot: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-purple-50 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs font-semibold text-purple-800 mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-3 h-3 inline mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), \"\\uAC70\\uB798\\uB7C9 \\uD504\\uB85C\\uD30C\\uC77C \\uD65C\\uC6A9 \\uC804\\uB7B5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-purple-700 space-y-1\",\n            children: expertMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 POC \\uADFC\\uCC98\\uC5D0\\uC11C\\uB294 \\uAC15\\uD55C \\uC9C0\\uC9C0/\\uC800\\uD56D \\uC608\\uC0C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 Value Area \\uC774\\uD0C8 \\uC2DC \\uCD94\\uC138 \\uAC00\\uC18D\\uD654 \\uAC00\\uB2A5\\uC131\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 \\uAC70\\uB798\\uB7C9 \\uD76C\\uBC15 \\uAD6C\\uAC04\\uC740 \\uBE60\\uB978 \\uAC00\\uACA9 \\uBCC0\\uB3D9 \\uC608\\uC0C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 \\uB9E4\\uC218 \\uC6B0\\uC138 \\uAD6C\\uAC04 \\uC704 = \\uCD94\\uAC00 \\uC0C1\\uC2B9 \\uC5EC\\uB825\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 \\uB178\\uB780\\uC120(POC) \\uADFC\\uCC98\\uC5D0\\uC11C \\uAC00\\uACA9\\uC774 \\uBA48\\uCD9C \\uAC00\\uB2A5\\uC131 \\uB192\\uC74C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 \\uD30C\\uB780 \\uC74C\\uC601 \\uAD6C\\uAC04\\uC744 \\uBC97\\uC5B4\\uB098\\uBA74 \\uD070 \\uC6C0\\uC9C1\\uC784 \\uC608\\uC0C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u2022 \\uBE68\\uAC04 \\uB9C9\\uB300\\uAC00 \\uB9CE\\uC73C\\uBA74 \\uADF8 \\uAC00\\uACA9\\uB300\\uAC00 \\uB4E0\\uB4E0\\uD55C \\uC9C0\\uC9C0\\uC120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(VolumeProfileChart, \"jDh+VIvdqf5rn2JgyEtmgD4qMmQ=\");\n_c = VolumeProfileChart;\nvar _c;\n$RefreshReg$(_c, \"VolumeProfileChart\");","map":{"version":3,"names":["React","useMemo","ResponsiveContainer","ComposedChart","Bar","Line","XAxis","YAxis","CartesianGrid","Tooltip","RechartsTooltip","Legend","Cell","Card","CardContent","CardHeader","CardTitle","TooltipContent","TooltipProvider","TooltipTrigger","Info","BarChart3","TrendingUp","jsxDEV","_jsxDEV","Fragment","_Fragment","VolumeProfileChart","data","expertMode","_s","_latest$close","volumeProfile","length","profile","poc","valueArea","prices","flatMap","d","high","low","minPrice","Math","min","maxPrice","max","priceRange","binSize","bins","i","binStart","binEnd","price","floor","volume","buyVolume","sellVolume","forEach","highBin","lowBin","volumePerBin","close","open","Object","values","sort","a","b","reduce","bin","totalVolume","sum","targetVolume","pocIndex","findIndex","valueAreaVolume","vahIndex","valIndex","upVolume","downVolume","latest","currentPricePosition","toFixed","children","className","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","layout","margin","top","right","left","bottom","strokeDasharray","dataKey","tick","fontSize","domain","formatter","v","name","includes","contentStyle","backgroundColor","border","map","entry","index","fill","fillOpacity","type","stroke","strokeWidth","dot","_c","$RefreshReg$"],"sources":["C:/Users/kloud/OneDrive/Desktop/Paradise/src/components/charts/VolumeProfileChart.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Bar,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip as RechartsTooltip,\n  Legend,\n  Cell,\n} from \"recharts\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"../ui/card\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"../ui/tooltip\";\nimport { Info, BarChart3, TrendingUp } from \"lucide-react\";\n\nexport default function VolumeProfileChart({ data, expertMode = true }) {\n  // 거래량 프로파일 계산\n  const volumeProfile = useMemo(() => {\n    if (!data || data.length === 0) return { profile: [], poc: 0, valueArea: {} };\n    \n    // 가격 범위 계산\n    const prices = data.flatMap(d => [d.high, d.low]);\n    const minPrice = Math.min(...prices);\n    const maxPrice = Math.max(...prices);\n    const priceRange = maxPrice - minPrice;\n    const binSize = priceRange / 20; // 20개 구간으로 나눔\n    \n    // 각 가격대별 거래량 집계\n    const bins = {};\n    for (let i = 0; i < 20; i++) {\n      const binStart = minPrice + (i * binSize);\n      const binEnd = binStart + binSize;\n      bins[i] = {\n        price: (binStart + binEnd) / 2,\n        priceRange: `${Math.floor(binStart)}-${Math.floor(binEnd)}`,\n        volume: 0,\n        buyVolume: 0,\n        sellVolume: 0,\n      };\n    }\n    \n    // 거래량 분배\n    data.forEach(d => {\n      // 간단히 고가와 저가 사이에 거래량 균등 분배\n      const highBin = Math.floor((d.high - minPrice) / binSize);\n      const lowBin = Math.floor((d.low - minPrice) / binSize);\n      \n      for (let i = lowBin; i <= highBin && i < 20; i++) {\n        const volumePerBin = d.volume / (highBin - lowBin + 1);\n        bins[i].volume += volumePerBin;\n        \n        // 상승일은 매수, 하락일은 매도로 간주\n        if (d.close > d.open) {\n          bins[i].buyVolume += volumePerBin;\n        } else {\n          bins[i].sellVolume += volumePerBin;\n        }\n      }\n    });\n    \n    // 배열로 변환하고 정렬\n    const profile = Object.values(bins).sort((a, b) => a.price - b.price);\n    \n    // POC (Point of Control) - 가장 많은 거래량이 발생한 가격대\n    const poc = profile.reduce((max, bin) => bin.volume > max.volume ? bin : max, profile[0]);\n    \n    // Value Area (전체 거래량의 70%가 발생한 구간)\n    const totalVolume = profile.reduce((sum, bin) => sum + bin.volume, 0);\n    const targetVolume = totalVolume * 0.7;\n    \n    // POC를 중심으로 확장하며 Value Area 찾기\n    const pocIndex = profile.findIndex(bin => bin === poc);\n    let valueAreaVolume = poc.volume;\n    let vahIndex = pocIndex; // Value Area High\n    let valIndex = pocIndex; // Value Area Low\n    \n    while (valueAreaVolume < targetVolume && (vahIndex < profile.length - 1 || valIndex > 0)) {\n      const upVolume = vahIndex < profile.length - 1 ? profile[vahIndex + 1].volume : 0;\n      const downVolume = valIndex > 0 ? profile[valIndex - 1].volume : 0;\n      \n      if (upVolume >= downVolume && vahIndex < profile.length - 1) {\n        vahIndex++;\n        valueAreaVolume += upVolume;\n      } else if (valIndex > 0) {\n        valIndex--;\n        valueAreaVolume += downVolume;\n      }\n    }\n    \n    return {\n      profile,\n      poc: poc.price,\n      valueArea: {\n        high: profile[vahIndex].price,\n        low: profile[valIndex].price,\n      }\n    };\n  }, [data]);\n  \n  const latest = data[data.length - 1] || {};\n  const currentPricePosition = latest.close ? \n    ((latest.close - volumeProfile.valueArea.low) / \n     (volumeProfile.valueArea.high - volumeProfile.valueArea.low) * 100).toFixed(0) : 0;\n\n  return (\n    <TooltipProvider>\n      <Card className=\"shadow-md\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-base\">\n            <BarChart3 className=\"w-4 h-4\"/>\n            거래량 프로파일 분석\n            <Tooltip>\n              <TooltipTrigger>\n                <Info className=\"w-4 h-4 text-gray-500\" />\n              </TooltipTrigger>\n              <TooltipContent className=\"max-w-sm\">\n                <p className=\"font-semibold mb-1\">Volume Profile</p>\n                <p className=\"text-sm mb-2\">\n                  {expertMode ? \n                    \"각 가격대별 누적 거래량을 시각화합니다. POC는 가장 많은 거래가 일어난 가격대이며, 강력한 지지/저항선으로 작용합니다.\" :\n                    \"어느 가격에서 거래가 많이 일어났는지 보여줍니다. 거래가 많이 일어난 가격은 중요한 기준점이 됩니다.\"\n                  }\n                </p>\n                <div className=\"text-xs space-y-1\">\n                  <p>• <span className=\"font-semibold\">POC</span>: 최대 거래 발생 가격</p>\n                  <p>• <span className=\"font-semibold\">Value Area</span>: 전체 거래의 70% 구간</p>\n                  <p>• <span className=\"text-red-600\">빨간색</span>: 매수 우세</p>\n                  <p>• <span className=\"text-blue-600\">파란색</span>: 매도 우세</p>\n                </div>\n              </TooltipContent>\n            </Tooltip>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {/* 현재 가격 위치 */}\n          <div className=\"mb-4 grid grid-cols-3 gap-3\">\n            <div className=\"p-3 bg-gray-50 rounded-lg\">\n              <p className=\"text-xs text-gray-600\">현재가</p>\n              <p className=\"text-sm font-bold\">{latest.close?.toLocaleString()}원</p>\n              <p className=\"text-xs text-gray-500\">\n                VA 내 위치: {currentPricePosition}%\n              </p>\n            </div>\n            <div className=\"p-3 bg-yellow-50 rounded-lg\">\n              <p className=\"text-xs text-gray-600\">POC (핵심가격)</p>\n              <p className=\"text-sm font-bold\">{volumeProfile.poc.toFixed(0)}원</p>\n              <p className={`text-xs ${latest.close > volumeProfile.poc ? 'text-green-600' : 'text-red-600'}`}>\n                현재가 {latest.close > volumeProfile.poc ? '위' : '아래'}\n              </p>\n            </div>\n            <div className=\"p-3 bg-blue-50 rounded-lg\">\n              <p className=\"text-xs text-gray-600\">Value Area</p>\n              <p className=\"text-sm font-bold\">\n                {volumeProfile.valueArea.low.toFixed(0)}-{volumeProfile.valueArea.high.toFixed(0)}\n              </p>\n              <p className=\"text-xs text-gray-500\">70% 거래구간</p>\n            </div>\n          </div>\n\n          {/* 거래량 프로파일 차트 */}\n          <div className=\"h-80\">\n            <ResponsiveContainer>\n              <ComposedChart \n                data={volumeProfile.profile} \n                layout=\"horizontal\"\n                margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"volume\" tick={{ fontSize: 12 }} />\n                <YAxis dataKey=\"price\" domain={[\"auto\", \"auto\"]} tick={{ fontSize: 12 }} />\n                <RechartsTooltip \n                  formatter={(v, name) => {\n                    if (typeof v === \"number\") {\n                      if (name.includes(\"거래량\")) return [v.toLocaleString() + \"주\", name];\n                      return [v.toFixed(0) + \"원\", name];\n                    }\n                    return v;\n                  }}\n                  contentStyle={{ backgroundColor: 'rgba(255, 255, 255, 0.95)', border: '1px solid #e5e7eb' }}\n                />\n                <Legend />\n                \n                {/* 거래량 바 */}\n                <Bar dataKey=\"volume\" name=\"총 거래량\">\n                  {volumeProfile.profile.map((entry, index) => (\n                    <Cell \n                      key={`cell-${index}`} \n                      fill={entry.buyVolume > entry.sellVolume ? '#dc2626' : '#2563eb'}\n                      fillOpacity={0.8}\n                    />\n                  ))}\n                </Bar>\n                \n                {/* 현재가 라인 */}\n                {latest.close && (\n                  <Line\n                    type=\"monotone\"\n                    dataKey={() => latest.close}\n                    stroke=\"#16a34a\"\n                    strokeWidth={2}\n                    strokeDasharray=\"5 5\"\n                    name=\"현재가\"\n                    dot={false}\n                  />\n                )}\n                \n                {/* POC 라인 */}\n                <Line\n                  type=\"monotone\"\n                  dataKey={() => volumeProfile.poc}\n                  stroke=\"#f59e0b\"\n                  strokeWidth={3}\n                  name=\"POC\"\n                  dot={false}\n                />\n              </ComposedChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* 매매 전략 팁 */}\n          <div className=\"mt-4 p-3 bg-purple-50 rounded-lg\">\n            <p className=\"text-xs font-semibold text-purple-800 mb-1\">\n              <TrendingUp className=\"w-3 h-3 inline mr-1\" />\n              거래량 프로파일 활용 전략\n            </p>\n            <div className=\"text-xs text-purple-700 space-y-1\">\n              {expertMode ? (\n                <>\n                  <p>• POC 근처에서는 강한 지지/저항 예상</p>\n                  <p>• Value Area 이탈 시 추세 가속화 가능성</p>\n                  <p>• 거래량 희박 구간은 빠른 가격 변동 예상</p>\n                  <p>• 매수 우세 구간 위 = 추가 상승 여력</p>\n                </>\n              ) : (\n                <>\n                  <p>• 노란선(POC) 근처에서 가격이 멈출 가능성 높음</p>\n                  <p>• 파란 음영 구간을 벗어나면 큰 움직임 예상</p>\n                  <p>• 빨간 막대가 많으면 그 가격대가 든든한 지지선</p>\n                </>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </TooltipProvider>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}