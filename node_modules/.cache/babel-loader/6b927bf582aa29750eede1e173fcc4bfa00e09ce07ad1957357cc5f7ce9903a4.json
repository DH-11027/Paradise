{"ast":null,"code":"import React,{useMemo}from\"react\";import{Card,CardContent,CardHeader,CardTitle}from\"./ui/card\";import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from\"./ui/tooltip\";import{AlertTriangle,TrendingUp,DollarSign,Shield,Info,BarChart3,Activity,Target,AlertCircle}from\"lucide-react\";import{RISK_INDICATORS}from\"../constants/indicatorDescriptions\";import{calculateInstitutionalSmartMoneyScore,calculateInstitutionalTradingSignal,detectMarketRegime,calculateOptimalPositionSize,backtestSignalPerformance}from\"../utils/institutionalAnalytics\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InstitutionalDashboard(_ref){var _tradingSignal$recomm,_tradingSignal$signal,_smartMoneyScore$scor,_tradingSignal$recomm2,_tradingSignal$recomm3,_tradingSignal$factor,_calculations$dailyVa,_calculations$sharpeR,_latest$_flows,_latest$_flows2,_latest$_flows3,_latest$_flows4,_latest$_flows5,_latest$_flows6,_optimalPosition$reas,_tradingSignal$recomm4,_tradingSignal$recomm5,_tradingSignal$riskMu;let{data,unitScale}=_ref;// í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì • ê¸ˆì•¡ (ì˜ˆì‹œ)\nconst FUND_SIZE=100000000;// 1ì–µì›\nconst latestIndex=data.length-1;const latest=useMemo(()=>data[latestIndex]||{},[data,latestIndex]);// Advanced Analytics Calculations\nconst smartMoneyScore=useMemo(()=>{if(data.length<60)return{score:0,breakdown:{}};return calculateInstitutionalSmartMoneyScore(data,latestIndex);},[data,latestIndex]);const tradingSignal=useMemo(()=>{if(data.length<60)return{signal:0,factors:[],positionSize:{}};return calculateInstitutionalTradingSignal(data,latestIndex);},[data,latestIndex]);const marketRegime=useMemo(()=>{if(data.length<60)return'UNKNOWN';return detectMarketRegime(data,latestIndex);},[data,latestIndex]);const optimalPosition=useMemo(()=>{if(data.length<60)return{size:0,leverage:1,reasoning:[]};return calculateOptimalPositionSize(data,latestIndex,FUND_SIZE);},[data,latestIndex]);const signalBacktest=useMemo(()=>{if(data.length<100)return null;return backtestSignalPerformance(data);},[data]);// ë¦¬ìŠ¤í¬ ê³„ì‚°\nconst calculations=useMemo(()=>{if(!data||data.length<20)return{};// ë³€ë™ì„± ê³„ì‚° (20ì¼)\nconst returns=[];for(let i=1;i<Math.min(data.length,21);i++){const ret=(data[i].close-data[i-1].close)/data[i-1].close;returns.push(ret);}const avgReturn=returns.reduce((a,b)=>a+b,0)/returns.length;const variance=returns.reduce((sum,ret)=>sum+Math.pow(ret-avgReturn,2),0)/returns.length;const volatility=Math.sqrt(variance)*Math.sqrt(252);// ì—°ìœ¨í™”\n// VaR ê³„ì‚° (95% ì‹ ë¢°ìˆ˜ì¤€)\nconst dailyVaR=volatility/Math.sqrt(252)*1.65;// ì¼í‰ê·  ê±°ë˜ëŒ€ê¸ˆ (ìµœê·¼ 20ì¼)\nconst avgVolume=data.slice(-20).reduce((sum,d)=>sum+d.close*d.volume,0)/20;// ìµœëŒ€ ì•ˆì „ ê±°ë˜ ê°€ëŠ¥ ê¸ˆì•¡ (ì¼í‰ê· ì˜ 5%)\nconst safeTradeSize=avgVolume*0.05;// í˜„ì¬ í¬ì§€ì…˜ ê°€ì • (ì „ì²´ í€ë“œì˜ 0.1%)\nconst positionSize=FUND_SIZE*0.001;const positionVaR=positionSize*dailyVaR;return{volatility:volatility*100,dailyVaR:dailyVaR*100,positionVaR,avgVolume,safeTradeSize,positionSize,sharpeRatio:avgReturn>0?avgReturn*252/volatility:0};},[data]);// Removed unused flowScore calculation as it's now replaced by smartMoneyScore\nconst formatKRW=num=>{const absNum=Math.abs(num);if(absNum>=1000000000000)return\"\".concat((num/1000000000000).toFixed(1),\"\\uC870\\uC6D0\");if(absNum>=100000000)return\"\".concat((num/100000000).toFixed(1),\"\\uC5B5\\uC6D0\");if(absNum>=10000)return\"\".concat((num/10000).toFixed(0),\"\\uB9CC\\uC6D0\");return\"\".concat(num.toLocaleString(),\"\\uC6D0\");};return/*#__PURE__*/_jsx(TooltipProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6\"}),\"AI \\uD22C\\uC790 \\uBD84\\uC11D \\uB300\\uC2DC\\uBCF4\\uB4DC\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(marketRegime==='BULL_TRENDING'?'bg-green-100 text-green-800':marketRegime==='BEAR_TRENDING'?'bg-red-100 text-red-800':marketRegime==='HIGH_VOLATILITY'?'bg-orange-100 text-orange-800':marketRegime==='RANGE_BOUND'?'bg-gray-100 text-gray-800':marketRegime==='BREAKOUT_POTENTIAL'?'bg-purple-100 text-purple-800':'bg-blue-100 text-blue-800'),children:[\"\\uC2DC\\uC7A5 \\uC0C1\\uD0DC: \",marketRegime==='BULL_TRENDING'?'ìƒìŠ¹ ì¶”ì„¸':marketRegime==='BEAR_TRENDING'?'í•˜ë½ ì¶”ì„¸':marketRegime==='HIGH_VOLATILITY'?'ê³ ë³€ë™ì„±':marketRegime==='RANGE_BOUND'?'íš¡ë³´ êµ¬ê°„':marketRegime==='BREAKOUT_POTENTIAL'?'ëŒíŒŒ ê°€ëŠ¥':marketRegime==='TRANSITIONING'?'ì „í™˜ê¸°':'ë¶„ì„ ì¤‘']})})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-indigo-50\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-lg font-bold\",children:\"\\uD83C\\uDFAF \\uD22C\\uC790 \\uACB0\\uC815 \\uAC00\\uC774\\uB4DC\"})}),/*#__PURE__*/_jsxs(CardContent,{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-white rounded-lg border-2 border-gray-200\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold mb-3 text-center\",children:[\"\\uD604\\uC7AC \\uD22C\\uC790 \\uCD94\\uCC9C:\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 \".concat(tradingSignal.signal>40?'text-green-600':tradingSignal.signal>15?'text-green-500':tradingSignal.signal>-15?'text-yellow-600':tradingSignal.signal>-40?'text-orange-600':'text-red-600'),children:tradingSignal.signal>40?'ğŸŸ¢ ë§¤ìˆ˜':tradingSignal.signal>15?'ğŸŸ¢ ë¶„í•  ë§¤ìˆ˜':tradingSignal.signal>-15?'ğŸŸ¡ ê´€ë§':tradingSignal.signal>-40?'ğŸŸ  ë¹„ì¤‘ ì¶•ì†Œ':'ğŸ”´ ë§¤ë„'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-gray-600\",children:((_tradingSignal$recomm=tradingSignal.recommendation)===null||_tradingSignal$recomm===void 0?void 0:_tradingSignal$recomm.description)||'ë°ì´í„° ë¶„ì„ ì¤‘...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 mb-2 cursor-help\",children:\"\\uC885\\uD569 \\uB9E4\\uB9E4 \\uC2E0\\uD638 \\u24D8\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:\"\\uC885\\uD569 \\uB9E4\\uB9E4 \\uC2E0\\uD638\\uB780?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"-100(\\uAC15\\uB825 \\uB9E4\\uB3C4) ~ +100(\\uAC15\\uB825 \\uB9E4\\uC218)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"+40 \\uC774\\uC0C1: \\uB9E4\\uC218 \\uCD94\\uCC9C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"-40 \\uC774\\uD558: \\uB9E4\\uB3C4 \\uCD94\\uCC9C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"-15 ~ +15: \\uAD00\\uB9DD \\uAD6C\\uAC04\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold mb-2 \".concat(tradingSignal.signal>30?'text-green-600':tradingSignal.signal<-30?'text-red-600':'text-yellow-600'),children:((_tradingSignal$signal=tradingSignal.signal)===null||_tradingSignal$signal===void 0?void 0:_tradingSignal$signal.toFixed(0))||0}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-medium inline-block \".concat(tradingSignal.signal>40?'bg-green-600 text-white':tradingSignal.signal>15?'bg-green-500 text-white':tradingSignal.signal>-15?'bg-yellow-500 text-white':tradingSignal.signal>-40?'bg-orange-500 text-white':'bg-red-600 text-white'),children:tradingSignal.signal>40?'ë§¤ìˆ˜':tradingSignal.signal>15?'ë¶„í• ë§¤ìˆ˜':tradingSignal.signal>-15?'ê´€ë§':tradingSignal.signal>-40?'ë¹„ì¤‘ì¶•ì†Œ':'ë§¤ë„'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 mb-2 cursor-help\",children:\"\\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8 \\uC810\\uC218 \\u24D8\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:\"\\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8 \\uC810\\uC218\\uB780?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"\\uAE30\\uAD00+\\uC678\\uAD6D\\uC778\\uC758 \\uC218\\uAE09 \\uAC15\\uB3C4\\uB97C \\uBD84\\uC11D\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"80 \\uC774\\uC0C1: \\uAE30\\uAD00 \\uB300\\uB7C9 \\uB9E4\\uC9D1\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"65 \\uC774\\uC0C1: \\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8 \\uB9E4\\uC218 \\uC6B0\\uC704\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"35 \\uC774\\uD558: \\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8 \\uC774\\uD0C8\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"20 \\uC774\\uD558: \\uAE30\\uAD00 \\uB300\\uB7C9 \\uB9E4\\uB3C4\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold mb-2 \".concat(smartMoneyScore.score>65?'text-blue-600':smartMoneyScore.score<35?'text-red-600':'text-gray-600'),children:((_smartMoneyScore$scor=smartMoneyScore.score)===null||_smartMoneyScore$scor===void 0?void 0:_smartMoneyScore$scor.toFixed(0))||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 px-2\",children:smartMoneyScore.interpretation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 mb-2 cursor-help\",children:\"\\uCD5C\\uC801 \\uD3EC\\uC9C0\\uC158 \\uD06C\\uAE30 \\u24D8\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:\"\\uD3EC\\uC9C0\\uC158 \\uD06C\\uAE30\\uB780?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Kelly Criterion \\uAE30\\uBC18 \\uACC4\\uC0B0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"\\uBCC0\\uB3D9\\uC131\\uACFC \\uC2B9\\uB960\\uC744 \\uACE0\\uB824\\uD55C \\uCD5C\\uC801 \\uD22C\\uC790\\uAE08\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-indigo-600 mb-1\",children:formatKRW(optimalPosition.size)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[\"\\uB808\\uBC84\\uB9AC\\uC9C0: \",optimalPosition.leverage,\"x\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:((_tradingSignal$recomm2=tradingSignal.recommendation)===null||_tradingSignal$recomm2===void 0?void 0:_tradingSignal$recomm2.targetAllocation)||'í¬íŠ¸í´ë¦¬ì˜¤ì˜ 5-10%'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pt-4 border-t border-purple-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"\\uC2E0\\uD638 \\uC2E0\\uB8B0\\uB3C4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold\",children:tradingSignal.confidence||((_tradingSignal$recomm3=tradingSignal.recommendation)===null||_tradingSignal$recomm3===void 0?void 0:_tradingSignal$recomm3.confidence)||'0%'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all duration-500\",style:{width:\"\".concat(tradingSignal.confidence||0,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-sm mb-2 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4\"}),\"\\uAE30\\uAC04\\uBCC4 \\uC810\\uC218 \\uD574\\uC11D \\uAC00\\uC774\\uB4DC\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-700 leading-relaxed\",children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"30\\uC77C/60\\uC77C\"}),\": \\uB2E8\\uAE30 \\uC218\\uAE09 \\uD750\\uB984 \\uBC18\\uC601, \\uB2E8\\uAE30 \\uD22C\\uC790\\uC5D0 \\uC801\\uD569\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"120\\uC77C\"}),\": \\uC911\\uAE30 \\uCD94\\uC138 \\uBC18\\uC601, \\uC2A4\\uC719 \\uD2B8\\uB808\\uC774\\uB529\\uC5D0 \\uC801\\uD569\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"240\\uC77C\"}),\": \\uC7A5\\uAE30 \\uD22C\\uC790 \\uAD00\\uC810, \\uD070 \\uADF8\\uB9BC \\uD30C\\uC545\\uC5D0 \\uC720\\uC6A9\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \\uAE30\\uAC04\\uC774 \\uAE38\\uC218\\uB85D \\uB178\\uC774\\uC988\\uAC00 \\uC904\\uACE0 \\uC2E0\\uB8B0\\uB3C4\\uAC00 \\uB192\\uC544\\uC9D1\\uB2C8\\uB2E4\"]})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-indigo-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-indigo-700\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-5 h-5\"}),\"\\uC138\\uBD80 \\uBD84\\uC11D \\uD56D\\uBAA9\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:(_tradingSignal$factor=tradingSignal.factors)===null||_tradingSignal$factor===void 0?void 0:_tradingSignal$factor.map((factor,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:factor.name}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-3 h-3 text-gray-400\"})}),/*#__PURE__*/_jsxs(TooltipContent,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Weight: \",(factor.weight*100).toFixed(0),\"%\"]}),factor.description&&/*#__PURE__*/_jsx(\"p\",{children:factor.description})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 \".concat(factor.value>0?'bg-green-500':'bg-red-500'),style:{width:\"\".concat(Math.min(100,Math.abs(factor.value)),\"%\"),marginLeft:factor.value<0?'auto':'0'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold min-w-[3rem] text-right \".concat(factor.value>0?'text-green-600':factor.value<0?'text-red-600':'text-gray-600'),children:typeof factor.value==='number'?factor.value.toFixed(0):factor.value})]}),factor.phase&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:factor.phase})]},idx))}),signalBacktest&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-indigo-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4\"}),\"\\uC2E0\\uD638 \\uC131\\uACFC (\\uCD5C\\uADFC 60\\uC77C)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uC815\\uD655\\uB3C4:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-lg\",children:[signalBacktest.accuracy.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uCD1D \\uC2E0\\uD638:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:signalBacktest.totalSignals})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uC131\\uACF5:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:signalBacktest.correctSignals})]})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-red-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-red-700\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5\"}),\"\\uB9AC\\uC2A4\\uD06C \\uAD00\\uB9AC\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-red-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"\\uC77C\\uC77C VaR\"}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:RISK_INDICATORS.VaR.name}),/*#__PURE__*/_jsx(\"p\",{children:RISK_INDICATORS.VaR.expert})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-red-600\",children:[(_calculations$dailyVa=calculations.dailyVaR)===null||_calculations$dailyVa===void 0?void 0:_calculations$dailyVa.toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\uD3EC\\uC9C0\\uC158 VaR: \",formatKRW(calculations.positionVaR||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"\\uC720\\uB3D9\\uC131 \\uBD84\\uC11D\"}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:RISK_INDICATORS.LIQUIDITY.name}),/*#__PURE__*/_jsx(\"p\",{children:RISK_INDICATORS.LIQUIDITY.expert})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"\\uC77C\\uD3C9\\uADE0 \\uAC70\\uB798\\uB300\\uAE08\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:formatKRW(calculations.avgVolume||0)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600 mt-1\",children:[\"\\uC548\\uC804 \\uAC70\\uB798 \\uD55C\\uB3C4: \",formatKRW(calculations.safeTradeSize||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"\\uC0E4\\uD504 \\uBE44\\uC728\"}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:RISK_INDICATORS.SHARPE.name}),/*#__PURE__*/_jsx(\"p\",{children:RISK_INDICATORS.SHARPE.expert})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:((_calculations$sharpeR=calculations.sharpeRatio)===null||_calculations$sharpeR===void 0?void 0:_calculations$sharpeR.toFixed(2))||\"N/A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:calculations.sharpeRatio>2?\"ìš°ìˆ˜\":calculations.sharpeRatio>1?\"ì–‘í˜¸\":calculations.sharpeRatio>0.5?\"ë³´í†µ\":\"ë¯¸í¡\"})]})]}),calculations.dailyVaR>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-red-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 font-medium\",children:\"\\uACBD\\uACE0: \\uB192\\uC740 \\uBCC0\\uB3D9\\uC131 \\uAC10\\uC9C0. \\uD3EC\\uC9C0\\uC158 \\uCD95\\uC18C\\uB97C \\uAC80\\uD1A0\\uD558\\uC138\\uC694.\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-blue-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-blue-700\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5\"}),\"\\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8 \\uC218\\uAE09 \\uBD84\\uC11D\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:\"\\uC810\\uC218 \\uAD6C\\uC131 \\uD56D\\uBAA9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:Object.entries(smartMoneyScore.breakdown||{}).map(_ref2=>{let[key,value]=_ref2;const labels={flowIntensity:'ìˆ˜ê¸‰ ê°•ë„',persistence:'ì§€ì†ì„±',retailDivergence:'ê°œì¸ ì—­í–‰',momentum:'ëˆ„ì  ëª¨ë©˜í…€',volumeSignal:'ê±°ë˜ëŸ‰ ì‹ í˜¸',institutionalPattern:'ê¸°ê´€ íŒ¨í„´',marketRegime:'ì‹œì¥ ë ˆì§'};return/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[labels[key]||key,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-bold \".concat(typeof value==='number'&&value>0?'text-green-600':typeof value==='number'&&value<0?'text-red-600':'text-gray-600'),children:typeof value==='number'?value.toFixed(1):value})]},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"\\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8 (\\uAE30\\uAD00+\\uC678\\uC778)\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC815\\uBCF4\\uB825\\uACFC \\uC790\\uAE08\\uB825\\uC744 \\uAC16\\uCD98 \\uC804\\uBB38 \\uD22C\\uC790\\uC790\\uB4E4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs\",children:\"\\uD30C\\uB780\\uC0C9: \\uB9E4\\uB3C4 / \\uBE68\\uAC04\\uC0C9: \\uB9E4\\uC218\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC678\\uAD6D\\uC778\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat((((_latest$_flows=latest._flows)===null||_latest$_flows===void 0?void 0:_latest$_flows.ì™¸êµ­ì¸í•©ê³„)||0)>0?'text-red-600':'text-blue-600'),children:formatKRW(((_latest$_flows2=latest._flows)===null||_latest$_flows2===void 0?void 0:_latest$_flows2.ì™¸êµ­ì¸í•©ê³„)||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uAE30\\uAD00\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat((((_latest$_flows3=latest._flows)===null||_latest$_flows3===void 0?void 0:_latest$_flows3.ê¸°ê´€í•©ê³„)||0)>0?'text-red-600':'text-blue-600'),children:formatKRW(((_latest$_flows4=latest._flows)===null||_latest$_flows4===void 0?void 0:_latest$_flows4.ê¸°ê´€í•©ê³„)||0)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"\\uAC1C\\uC778 \\uD22C\\uC790\\uC790\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uAC1C\\uC778 \\uD22C\\uC790\\uC790\\uB4E4\\uC758 \\uB9E4\\uB9E4 \\uD604\\uD669\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs\",children:\"\\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8\\uC640 \\uBC18\\uB300\\uB85C \\uC6C0\\uC9C1\\uC774\\uBA74 \\uAE0D\\uC815 \\uC2E0\\uD638\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC21C\\uB9E4\\uC218\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat((((_latest$_flows5=latest._flows)===null||_latest$_flows5===void 0?void 0:_latest$_flows5.ê°œì¸)||0)>0?'text-red-600':'text-blue-600'),children:formatKRW(((_latest$_flows6=latest._flows)===null||_latest$_flows6===void 0?void 0:_latest$_flows6.ê°œì¸)||0)})]})})]})]})]})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5\"}),\"\\uB9AC\\uC2A4\\uD06C \\uC870\\uC815 \\uD3EC\\uC9C0\\uC158 \\uAD00\\uB9AC\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"\\uCD5C\\uC801 \\uD3EC\\uC9C0\\uC158 \\uD06C\\uAE30\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-400\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Kelly Criterion\\uC744 \\uAE30\\uBC18\\uC73C\\uB85C \\uACC4\\uC0B0\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC548\\uC804\\uC744 \\uC704\\uD574 1/4 Kelly \\uC801\\uC6A9\"})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-700 mb-2\",children:formatKRW(optimalPosition.size)}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 text-xs text-gray-600\",children:(_optimalPosition$reas=optimalPosition.reasoning)===null||_optimalPosition$reas===void 0?void 0:_optimalPosition$reas.map((reason,idx)=>{const koreanLabels={'Kelly Fraction':'Kelly ë¹„ìœ¨','Volatility Adjustment':'ë³€ë™ì„± ì¡°ì •','Win Rate':'ìŠ¹ë¥ ','Risk-Adjusted Size':'ë¦¬ìŠ¤í¬ ì¡°ì • í¬ê¸°','Insufficient loss data':'ì†ì‹¤ ë°ì´í„° ë¶€ì¡±','ìµœì†Œ 20ì¼ ë°ì´í„° í•„ìš”':'ìµœì†Œ 20ì¼ ë°ì´í„° í•„ìš”'};let translatedReason=reason;Object.entries(koreanLabels).forEach(_ref3=>{let[eng,kor]=_ref3;translatedReason=translatedReason.replace(eng,kor);});return/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \",translatedReason]},idx);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-red-50 to-orange-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"\\uB3D9\\uC801 \\uB9AC\\uC2A4\\uD06C \\uAD00\\uB9AC\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-400\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC2DC\\uC7A5 \\uC0C1\\uD669\\uACFC \\uBCC0\\uB3D9\\uC131\\uC5D0 \\uB530\\uB77C\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uB9AC\\uC2A4\\uD06C \\uD55C\\uB3C4\\uAC00 \\uC790\\uB3D9 \\uC870\\uC815\\uB429\\uB2C8\\uB2E4\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\uC190\\uC808\\uC120:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-600\",children:((_tradingSignal$recomm4=tradingSignal.recommendation)===null||_tradingSignal$recomm4===void 0?void 0:_tradingSignal$recomm4.stopLoss)||'ì§„ì…ê°€ -5%'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\uBAA9\\uD45C \\uBE44\\uC911:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-orange-600\",children:((_tradingSignal$recomm5=tradingSignal.recommendation)===null||_tradingSignal$recomm5===void 0?void 0:_tradingSignal$recomm5.targetAllocation)||'5-10%'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\uB9AC\\uC2A4\\uD06C \\uBC30\\uC218:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold\",children:[((_tradingSignal$riskMu=tradingSignal.riskMultiplier)===null||_tradingSignal$riskMu===void 0?void 0:_tradingSignal$riskMu.toFixed(2))||'1.00',\"x\"]})]})]})]})]}),marketRegime==='HIGH_VOLATILITY'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-orange-100 border border-orange-300 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-orange-600 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-orange-700\",children:[\"\\uACE0\\uBCC0\\uB3D9\\uC131 \\uAC10\\uC9C0. \\uD3EC\\uC9C0\\uC158 \\uD06C\\uAE30\\uAC00 \\uC790\\uB3D9\\uC73C\\uB85C \",((1-(tradingSignal.riskMultiplier||0.7))*100).toFixed(0),\"% \\uAC10\\uC18C\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"]})]}),calculations.dailyVaR>4&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-red-600 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:\"\\uADF9\\uB2E8\\uC801 \\uB9AC\\uC2A4\\uD06C \\uC218\\uC900. \\uB178\\uCD9C\\uB3C4\\uB97C \\uC904\\uC774\\uAC70\\uB098 \\uD5E4\\uC9C0\\uB97C \\uACE0\\uB824\\uD558\\uC138\\uC694.\"})]})]})]})]})});}","map":{"version":3,"names":["React","useMemo","Card","CardContent","CardHeader","CardTitle","Tooltip","TooltipContent","TooltipProvider","TooltipTrigger","AlertTriangle","TrendingUp","DollarSign","Shield","Info","BarChart3","Activity","Target","AlertCircle","RISK_INDICATORS","calculateInstitutionalSmartMoneyScore","calculateInstitutionalTradingSignal","detectMarketRegime","calculateOptimalPositionSize","backtestSignalPerformance","jsx","_jsx","jsxs","_jsxs","InstitutionalDashboard","_ref","_tradingSignal$recomm","_tradingSignal$signal","_smartMoneyScore$scor","_tradingSignal$recomm2","_tradingSignal$recomm3","_tradingSignal$factor","_calculations$dailyVa","_calculations$sharpeR","_latest$_flows","_latest$_flows2","_latest$_flows3","_latest$_flows4","_latest$_flows5","_latest$_flows6","_optimalPosition$reas","_tradingSignal$recomm4","_tradingSignal$recomm5","_tradingSignal$riskMu","data","unitScale","FUND_SIZE","latestIndex","length","latest","smartMoneyScore","score","breakdown","tradingSignal","signal","factors","positionSize","marketRegime","optimalPosition","size","leverage","reasoning","signalBacktest","calculations","returns","i","Math","min","ret","close","push","avgReturn","reduce","a","b","variance","sum","pow","volatility","sqrt","dailyVaR","avgVolume","slice","d","volume","safeTradeSize","positionVaR","sharpeRatio","formatKRW","num","absNum","abs","concat","toFixed","toLocaleString","children","className","recommendation","description","interpretation","targetAllocation","confidence","style","width","map","factor","idx","name","weight","value","marginLeft","phase","accuracy","totalSignals","correctSignals","VaR","expert","LIQUIDITY","SHARPE","Object","entries","_ref2","key","labels","flowIntensity","persistence","retailDivergence","momentum","volumeSignal","institutionalPattern","_flows","ì™¸êµ­ì¸í•©ê³„","ê¸°ê´€í•©ê³„","ê°œì¸","reason","koreanLabels","translatedReason","forEach","_ref3","eng","kor","replace","stopLoss","riskMultiplier"],"sources":["C:/Users/kloud/OneDrive/Desktop/Paradise/src/components/InstitutionalDashboard.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"./ui/tooltip\";\nimport { AlertTriangle, TrendingUp, DollarSign, Shield, Info, BarChart3, Activity, Target, AlertCircle } from \"lucide-react\";\nimport { RISK_INDICATORS } from \"../constants/indicatorDescriptions\";\nimport { \n  calculateInstitutionalSmartMoneyScore, \n  calculateInstitutionalTradingSignal,\n  detectMarketRegime,\n  calculateOptimalPositionSize,\n  backtestSignalPerformance\n} from \"../utils/institutionalAnalytics\";\n\nexport default function InstitutionalDashboard({ data, unitScale }) {\n  // í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì • ê¸ˆì•¡ (ì˜ˆì‹œ)\n  const FUND_SIZE = 100000000; // 1ì–µì›\n  const latestIndex = data.length - 1;\n  const latest = useMemo(() => data[latestIndex] || {}, [data, latestIndex]);\n  \n  // Advanced Analytics Calculations\n  const smartMoneyScore = useMemo(() => {\n    if (data.length < 60) return { score: 0, breakdown: {} };\n    return calculateInstitutionalSmartMoneyScore(data, latestIndex);\n  }, [data, latestIndex]);\n  \n  const tradingSignal = useMemo(() => {\n    if (data.length < 60) return { signal: 0, factors: [], positionSize: {} };\n    return calculateInstitutionalTradingSignal(data, latestIndex);\n  }, [data, latestIndex]);\n  \n  const marketRegime = useMemo(() => {\n    if (data.length < 60) return 'UNKNOWN';\n    return detectMarketRegime(data, latestIndex);\n  }, [data, latestIndex]);\n  \n  const optimalPosition = useMemo(() => {\n    if (data.length < 60) return { size: 0, leverage: 1, reasoning: [] };\n    return calculateOptimalPositionSize(data, latestIndex, FUND_SIZE);\n  }, [data, latestIndex]);\n  \n  const signalBacktest = useMemo(() => {\n    if (data.length < 100) return null;\n    return backtestSignalPerformance(data);\n  }, [data]);\n\n  // ë¦¬ìŠ¤í¬ ê³„ì‚°\n  const calculations = useMemo(() => {\n    if (!data || data.length < 20) return {};\n\n    // ë³€ë™ì„± ê³„ì‚° (20ì¼)\n    const returns = [];\n    for (let i = 1; i < Math.min(data.length, 21); i++) {\n      const ret = (data[i].close - data[i-1].close) / data[i-1].close;\n      returns.push(ret);\n    }\n    \n    const avgReturn = returns.reduce((a, b) => a + b, 0) / returns.length;\n    const variance = returns.reduce((sum, ret) => sum + Math.pow(ret - avgReturn, 2), 0) / returns.length;\n    const volatility = Math.sqrt(variance) * Math.sqrt(252); // ì—°ìœ¨í™”\n\n    // VaR ê³„ì‚° (95% ì‹ ë¢°ìˆ˜ì¤€)\n    const dailyVaR = volatility / Math.sqrt(252) * 1.65;\n    \n    // ì¼í‰ê·  ê±°ë˜ëŒ€ê¸ˆ (ìµœê·¼ 20ì¼)\n    const avgVolume = data.slice(-20).reduce((sum, d) => sum + (d.close * d.volume), 0) / 20;\n    \n    // ìµœëŒ€ ì•ˆì „ ê±°ë˜ ê°€ëŠ¥ ê¸ˆì•¡ (ì¼í‰ê· ì˜ 5%)\n    const safeTradeSize = avgVolume * 0.05;\n    \n    // í˜„ì¬ í¬ì§€ì…˜ ê°€ì • (ì „ì²´ í€ë“œì˜ 0.1%)\n    const positionSize = FUND_SIZE * 0.001;\n    const positionVaR = positionSize * dailyVaR;\n\n    return {\n      volatility: volatility * 100,\n      dailyVaR: dailyVaR * 100,\n      positionVaR,\n      avgVolume,\n      safeTradeSize,\n      positionSize,\n      sharpeRatio: avgReturn > 0 ? (avgReturn * 252) / volatility : 0\n    };\n  }, [data]);\n\n  // Removed unused flowScore calculation as it's now replaced by smartMoneyScore\n\n  const formatKRW = (num) => {\n    const absNum = Math.abs(num);\n    if (absNum >= 1000000000000) return `${(num / 1000000000000).toFixed(1)}ì¡°ì›`;\n    if (absNum >= 100000000) return `${(num / 100000000).toFixed(1)}ì–µì›`;\n    if (absNum >= 10000) return `${(num / 10000).toFixed(0)}ë§Œì›`;\n    return `${num.toLocaleString()}ì›`;\n  };\n\n  return (\n    <TooltipProvider>\n      <div className=\"space-y-4\">\n        {/* í—¤ë” */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\n            <BarChart3 className=\"w-6 h-6\" />\n            AI íˆ¬ì ë¶„ì„ ëŒ€ì‹œë³´ë“œ\n          </h2>\n          <div className=\"flex items-center gap-2\">\n            <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n              marketRegime === 'BULL_TRENDING' ? 'bg-green-100 text-green-800' :\n              marketRegime === 'BEAR_TRENDING' ? 'bg-red-100 text-red-800' :\n              marketRegime === 'HIGH_VOLATILITY' ? 'bg-orange-100 text-orange-800' :\n              marketRegime === 'RANGE_BOUND' ? 'bg-gray-100 text-gray-800' :\n              marketRegime === 'BREAKOUT_POTENTIAL' ? 'bg-purple-100 text-purple-800' :\n              'bg-blue-100 text-blue-800'\n            }`}>\n              ì‹œì¥ ìƒíƒœ: {marketRegime === 'BULL_TRENDING' ? 'ìƒìŠ¹ ì¶”ì„¸' :\n                      marketRegime === 'BEAR_TRENDING' ? 'í•˜ë½ ì¶”ì„¸' :\n                      marketRegime === 'HIGH_VOLATILITY' ? 'ê³ ë³€ë™ì„±' :\n                      marketRegime === 'RANGE_BOUND' ? 'íš¡ë³´ êµ¬ê°„' :\n                      marketRegime === 'BREAKOUT_POTENTIAL' ? 'ëŒíŒŒ ê°€ëŠ¥' :\n                      marketRegime === 'TRANSITIONING' ? 'ì „í™˜ê¸°' : 'ë¶„ì„ ì¤‘'}\n            </span>\n          </div>\n        </div>\n        \n        {/* í•µì‹¬ íˆ¬ì ì‹ í˜¸ ì¹´ë“œ */}\n        <Card className=\"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-indigo-50\">\n          <CardHeader>\n            <CardTitle className=\"text-lg font-bold\">ğŸ¯ íˆ¬ì ê²°ì • ê°€ì´ë“œ</CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-6\">\n            {/* ë‹¨ìˆœ ëª…í™•í•œ íˆ¬ì ê²°ì • */}\n            <div className=\"mb-6 p-4 bg-white rounded-lg border-2 border-gray-200\">\n              <h3 className=\"text-lg font-bold mb-3 text-center\">\n                í˜„ì¬ íˆ¬ì ì¶”ì²œ: \n                <span className={`ml-2 ${\n                  tradingSignal.signal > 40 ? 'text-green-600' :\n                  tradingSignal.signal > 15 ? 'text-green-500' :\n                  tradingSignal.signal > -15 ? 'text-yellow-600' :\n                  tradingSignal.signal > -40 ? 'text-orange-600' :\n                  'text-red-600'\n                }`}>\n                  {tradingSignal.signal > 40 ? 'ğŸŸ¢ ë§¤ìˆ˜' :\n                   tradingSignal.signal > 15 ? 'ğŸŸ¢ ë¶„í•  ë§¤ìˆ˜' :\n                   tradingSignal.signal > -15 ? 'ğŸŸ¡ ê´€ë§' :\n                   tradingSignal.signal > -40 ? 'ğŸŸ  ë¹„ì¤‘ ì¶•ì†Œ' :\n                   'ğŸ”´ ë§¤ë„'}\n                </span>\n              </h3>\n              <p className=\"text-center text-sm text-gray-600\">\n                {tradingSignal.recommendation?.description || 'ë°ì´í„° ë¶„ì„ ì¤‘...'}\n              </p>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {/* ì¢…í•© ë§¤ë§¤ ì‹ í˜¸ */}\n              <div className=\"text-center\">\n                <Tooltip>\n                  <TooltipTrigger>\n                    <h3 className=\"text-sm font-medium text-gray-600 mb-2 cursor-help\">\n                      ì¢…í•© ë§¤ë§¤ ì‹ í˜¸ â“˜\n                    </h3>\n                  </TooltipTrigger>\n                  <TooltipContent className=\"max-w-xs\">\n                    <p className=\"font-semibold mb-1\">ì¢…í•© ë§¤ë§¤ ì‹ í˜¸ë€?</p>\n                    <p className=\"text-sm\">-100(ê°•ë ¥ ë§¤ë„) ~ +100(ê°•ë ¥ ë§¤ìˆ˜)</p>\n                    <p className=\"text-sm mt-1\">+40 ì´ìƒ: ë§¤ìˆ˜ ì¶”ì²œ</p>\n                    <p className=\"text-sm\">-40 ì´í•˜: ë§¤ë„ ì¶”ì²œ</p>\n                    <p className=\"text-sm\">-15 ~ +15: ê´€ë§ êµ¬ê°„</p>\n                  </TooltipContent>\n                </Tooltip>\n                <div className={`text-4xl font-bold mb-2 ${\n                  tradingSignal.signal > 30 ? 'text-green-600' :\n                  tradingSignal.signal < -30 ? 'text-red-600' :\n                  'text-yellow-600'\n                }`}>\n                  {tradingSignal.signal?.toFixed(0) || 0}\n                </div>\n                <div className={`px-3 py-1 rounded-full text-sm font-medium inline-block ${\n                  tradingSignal.signal > 40 ? 'bg-green-600 text-white' :\n                  tradingSignal.signal > 15 ? 'bg-green-500 text-white' :\n                  tradingSignal.signal > -15 ? 'bg-yellow-500 text-white' :\n                  tradingSignal.signal > -40 ? 'bg-orange-500 text-white' :\n                  'bg-red-600 text-white'\n                }`}>\n                  {tradingSignal.signal > 40 ? 'ë§¤ìˆ˜' :\n                   tradingSignal.signal > 15 ? 'ë¶„í• ë§¤ìˆ˜' :\n                   tradingSignal.signal > -15 ? 'ê´€ë§' :\n                   tradingSignal.signal > -40 ? 'ë¹„ì¤‘ì¶•ì†Œ' :\n                   'ë§¤ë„'}\n                </div>\n              </div>\n              \n              {/* ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ì ìˆ˜ */}\n              <div className=\"text-center\">\n                <Tooltip>\n                  <TooltipTrigger>\n                    <h3 className=\"text-sm font-medium text-gray-600 mb-2 cursor-help\">\n                      ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ì ìˆ˜ â“˜\n                    </h3>\n                  </TooltipTrigger>\n                  <TooltipContent className=\"max-w-xs\">\n                    <p className=\"font-semibold mb-1\">ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ì ìˆ˜ë€?</p>\n                    <p className=\"text-sm\">ê¸°ê´€+ì™¸êµ­ì¸ì˜ ìˆ˜ê¸‰ ê°•ë„ë¥¼ ë¶„ì„</p>\n                    <p className=\"text-sm mt-1\">80 ì´ìƒ: ê¸°ê´€ ëŒ€ëŸ‰ ë§¤ì§‘</p>\n                    <p className=\"text-sm\">65 ì´ìƒ: ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ë§¤ìˆ˜ ìš°ìœ„</p>\n                    <p className=\"text-sm\">35 ì´í•˜: ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ì´íƒˆ</p>\n                    <p className=\"text-sm\">20 ì´í•˜: ê¸°ê´€ ëŒ€ëŸ‰ ë§¤ë„</p>\n                  </TooltipContent>\n                </Tooltip>\n                <div className={`text-4xl font-bold mb-2 ${\n                  smartMoneyScore.score > 65 ? 'text-blue-600' :\n                  smartMoneyScore.score < 35 ? 'text-red-600' :\n                  'text-gray-600'\n                }`}>\n                  {smartMoneyScore.score?.toFixed(0) || 0}\n                </div>\n                <p className=\"text-xs text-gray-600 px-2\">\n                  {smartMoneyScore.interpretation}\n                </p>\n              </div>\n              \n              {/* ì¶”ì²œ í¬ì§€ì…˜ */}\n              <div className=\"text-center\">\n                <Tooltip>\n                  <TooltipTrigger>\n                    <h3 className=\"text-sm font-medium text-gray-600 mb-2 cursor-help\">\n                      ìµœì  í¬ì§€ì…˜ í¬ê¸° â“˜\n                    </h3>\n                  </TooltipTrigger>\n                  <TooltipContent className=\"max-w-xs\">\n                    <p className=\"font-semibold mb-1\">í¬ì§€ì…˜ í¬ê¸°ë€?</p>\n                    <p className=\"text-sm\">Kelly Criterion ê¸°ë°˜ ê³„ì‚°</p>\n                    <p className=\"text-sm\">ë³€ë™ì„±ê³¼ ìŠ¹ë¥ ì„ ê³ ë ¤í•œ ìµœì  íˆ¬ìê¸ˆ</p>\n                  </TooltipContent>\n                </Tooltip>\n                <div className=\"text-2xl font-bold text-indigo-600 mb-1\">\n                  {formatKRW(optimalPosition.size)}\n                </div>\n                <p className=\"text-xs text-gray-600\">\n                  ë ˆë²„ë¦¬ì§€: {optimalPosition.leverage}x\n                </p>\n                <p className=\"text-xs text-gray-500\">\n                  {tradingSignal.recommendation?.targetAllocation || 'í¬íŠ¸í´ë¦¬ì˜¤ì˜ 5-10%'}\n                </p>\n              </div>\n            </div>\n            \n            {/* ì‹ í˜¸ ì‹ ë¢°ë„ */}\n            <div className=\"mt-4 pt-4 border-t border-purple-200\">\n              <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-sm font-medium\">ì‹ í˜¸ ì‹ ë¢°ë„</span>\n                <span className=\"text-sm font-bold\">\n                  {tradingSignal.confidence || tradingSignal.recommendation?.confidence || '0%'}\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all duration-500\"\n                  style={{ width: `${tradingSignal.confidence || 0}%` }}\n                />\n              </div>\n            </div>\n            \n            {/* ê¸°ê°„ë³„ í•´ì„ ê°€ì´ë“œ */}\n            <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\n              <h4 className=\"font-medium text-sm mb-2 flex items-center gap-1\">\n                <Info className=\"w-4 h-4\" />\n                ê¸°ê°„ë³„ ì ìˆ˜ í•´ì„ ê°€ì´ë“œ\n              </h4>\n              <p className=\"text-xs text-gray-700 leading-relaxed\">\n                â€¢ <strong>30ì¼/60ì¼</strong>: ë‹¨ê¸° ìˆ˜ê¸‰ íë¦„ ë°˜ì˜, ë‹¨ê¸° íˆ¬ìì— ì í•©<br/>\n                â€¢ <strong>120ì¼</strong>: ì¤‘ê¸° ì¶”ì„¸ ë°˜ì˜, ìŠ¤ìœ™ íŠ¸ë ˆì´ë”©ì— ì í•©<br/>\n                â€¢ <strong>240ì¼</strong>: ì¥ê¸° íˆ¬ì ê´€ì , í° ê·¸ë¦¼ íŒŒì•…ì— ìœ ìš©<br/>\n                â€¢ ê¸°ê°„ì´ ê¸¸ìˆ˜ë¡ ë…¸ì´ì¦ˆê°€ ì¤„ê³  ì‹ ë¢°ë„ê°€ ë†’ì•„ì§‘ë‹ˆë‹¤\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n        \n        {/* Signal Factors Breakdown */}\n        <Card className=\"border-2 border-indigo-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-indigo-700\">\n              <Activity className=\"w-5 h-5\" />\n              ì„¸ë¶€ ë¶„ì„ í•­ëª©\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              {tradingSignal.factors?.map((factor, idx) => (\n                <div key={idx} className=\"p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm font-medium\">{factor.name}</span>\n                    <Tooltip>\n                      <TooltipTrigger>\n                        <Info className=\"w-3 h-3 text-gray-400\" />\n                      </TooltipTrigger>\n                      <TooltipContent>\n                        <p>Weight: {(factor.weight * 100).toFixed(0)}%</p>\n                        {factor.description && <p>{factor.description}</p>}\n                      </TooltipContent>\n                    </Tooltip>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                      <div \n                        className={`h-2 rounded-full transition-all duration-300 ${\n                          factor.value > 0 ? 'bg-green-500' : 'bg-red-500'\n                        }`}\n                        style={{ \n                          width: `${Math.min(100, Math.abs(factor.value))}%`,\n                          marginLeft: factor.value < 0 ? 'auto' : '0'\n                        }}\n                      />\n                    </div>\n                    <span className={`text-sm font-bold min-w-[3rem] text-right ${\n                      factor.value > 0 ? 'text-green-600' : \n                      factor.value < 0 ? 'text-red-600' : 'text-gray-600'\n                    }`}>\n                      {typeof factor.value === 'number' ? factor.value.toFixed(0) : factor.value}\n                    </span>\n                  </div>\n                  {factor.phase && (\n                    <p className=\"text-xs text-gray-500 mt-1\">{factor.phase}</p>\n                  )}\n                </div>\n              ))}\n            </div>\n            \n            {/* Backtest Performance */}\n            {signalBacktest && (\n              <div className=\"mt-4 p-4 bg-indigo-50 rounded-lg\">\n                <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                  <Target className=\"w-4 h-4\" />\n                  ì‹ í˜¸ ì„±ê³¼ (ìµœê·¼ 60ì¼)\n                </h4>\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-gray-600\">ì •í™•ë„:</span>\n                    <p className=\"font-bold text-lg\">{signalBacktest.accuracy.toFixed(1)}%</p>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">ì´ ì‹ í˜¸:</span>\n                    <p className=\"font-bold text-lg\">{signalBacktest.totalSignals}</p>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">ì„±ê³µ:</span>\n                    <p className=\"font-bold text-lg\">{signalBacktest.correctSignals}</p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* ë¦¬ìŠ¤í¬ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ */}\n        <Card className=\"border-2 border-red-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-red-700\">\n              <Shield className=\"w-5 h-5\" />\n              ë¦¬ìŠ¤í¬ ê´€ë¦¬\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {/* VaR */}\n              <div className=\"p-4 bg-red-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold\">ì¼ì¼ VaR</h3>\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-500\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p className=\"font-semibold mb-1\">{RISK_INDICATORS.VaR.name}</p>\n                      <p>{RISK_INDICATORS.VaR.expert}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </div>\n                <p className=\"text-2xl font-bold text-red-600\">\n                  {calculations.dailyVaR?.toFixed(2)}%\n                </p>\n                <p className=\"text-sm text-gray-600\">\n                  í¬ì§€ì…˜ VaR: {formatKRW(calculations.positionVaR || 0)}\n                </p>\n              </div>\n\n              {/* ìœ ë™ì„± */}\n              <div className=\"p-4 bg-blue-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold\">ìœ ë™ì„± ë¶„ì„</h3>\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-500\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p className=\"font-semibold mb-1\">{RISK_INDICATORS.LIQUIDITY.name}</p>\n                      <p>{RISK_INDICATORS.LIQUIDITY.expert}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </div>\n                <p className=\"text-sm\">ì¼í‰ê·  ê±°ë˜ëŒ€ê¸ˆ</p>\n                <p className=\"text-xl font-bold\">{formatKRW(calculations.avgVolume || 0)}</p>\n                <p className=\"text-sm text-blue-600 mt-1\">\n                  ì•ˆì „ ê±°ë˜ í•œë„: {formatKRW(calculations.safeTradeSize || 0)}\n                </p>\n              </div>\n\n              {/* ìƒ¤í”„ ë¹„ìœ¨ */}\n              <div className=\"p-4 bg-green-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold\">ìƒ¤í”„ ë¹„ìœ¨</h3>\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-500\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p className=\"font-semibold mb-1\">{RISK_INDICATORS.SHARPE.name}</p>\n                      <p>{RISK_INDICATORS.SHARPE.expert}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </div>\n                <p className=\"text-2xl font-bold text-green-600\">\n                  {calculations.sharpeRatio?.toFixed(2) || \"N/A\"}\n                </p>\n                <p className=\"text-sm text-gray-600\">\n                  {calculations.sharpeRatio > 2 ? \"ìš°ìˆ˜\" : \n                   calculations.sharpeRatio > 1 ? \"ì–‘í˜¸\" : \n                   calculations.sharpeRatio > 0.5 ? \"ë³´í†µ\" : \"ë¯¸í¡\"}\n                </p>\n              </div>\n            </div>\n\n            {/* ë¦¬ìŠ¤í¬ ê²½ê³  */}\n            {calculations.dailyVaR > 3 && (\n              <div className=\"mt-4 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n                <p className=\"text-red-700 font-medium\">\n                  ê²½ê³ : ë†’ì€ ë³€ë™ì„± ê°ì§€. í¬ì§€ì…˜ ì¶•ì†Œë¥¼ ê²€í† í•˜ì„¸ìš”.\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ìˆ˜ê¸‰ ë¶„ì„ */}\n        <Card className=\"border-2 border-blue-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-blue-700\">\n              <DollarSign className=\"w-5 h-5\" />\n              ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ìˆ˜ê¸‰ ë¶„ì„\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {/* ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ ì ìˆ˜ êµ¬ì„± */}\n              <div className=\"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg\">\n                <h3 className=\"font-semibold mb-3\">ì ìˆ˜ êµ¬ì„± í•­ëª©</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  {Object.entries(smartMoneyScore.breakdown || {}).map(([key, value]) => {\n                    const labels = {\n                      flowIntensity: 'ìˆ˜ê¸‰ ê°•ë„',\n                      persistence: 'ì§€ì†ì„±',\n                      retailDivergence: 'ê°œì¸ ì—­í–‰',\n                      momentum: 'ëˆ„ì  ëª¨ë©˜í…€',\n                      volumeSignal: 'ê±°ë˜ëŸ‰ ì‹ í˜¸',\n                      institutionalPattern: 'ê¸°ê´€ íŒ¨í„´',\n                      marketRegime: 'ì‹œì¥ ë ˆì§'\n                    };\n                    return (\n                      <div key={key} className=\"text-sm\">\n                        <span className=\"text-gray-600\">\n                          {labels[key] || key}:\n                        </span>\n                        <span className={`ml-2 font-bold ${\n                          typeof value === 'number' && value > 0 ? 'text-green-600' : \n                          typeof value === 'number' && value < 0 ? 'text-red-600' : 'text-gray-600'\n                        }`}>\n                          {typeof value === 'number' ? value.toFixed(1) : value}\n                        </span>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* ì£¼ì²´ë³„ ìƒì„¸ */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                    ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆ (ê¸°ê´€+ì™¸ì¸)\n                    <Tooltip>\n                      <TooltipTrigger>\n                        <Info className=\"w-4 h-4 text-gray-500\" />\n                      </TooltipTrigger>\n                      <TooltipContent className=\"max-w-xs\">\n                        <p>ì •ë³´ë ¥ê³¼ ìê¸ˆë ¥ì„ ê°–ì¶˜ ì „ë¬¸ íˆ¬ììë“¤</p>\n                        <p className=\"mt-1 text-xs\">íŒŒë€ìƒ‰: ë§¤ë„ / ë¹¨ê°„ìƒ‰: ë§¤ìˆ˜</p>\n                      </TooltipContent>\n                    </Tooltip>\n                  </h4>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span>ì™¸êµ­ì¸</span>\n                      <span className={`font-bold ${(latest._flows?.ì™¸êµ­ì¸í•©ê³„ || 0) > 0 ? 'text-red-600' : 'text-blue-600'}`}>\n                        {formatKRW(latest._flows?.ì™¸êµ­ì¸í•©ê³„ || 0)}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>ê¸°ê´€</span>\n                      <span className={`font-bold ${(latest._flows?.ê¸°ê´€í•©ê³„ || 0) > 0 ? 'text-red-600' : 'text-blue-600'}`}>\n                        {formatKRW(latest._flows?.ê¸°ê´€í•©ê³„ || 0)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                    ê°œì¸ íˆ¬ìì\n                    <Tooltip>\n                      <TooltipTrigger>\n                        <Info className=\"w-4 h-4 text-gray-500\" />\n                      </TooltipTrigger>\n                      <TooltipContent className=\"max-w-xs\">\n                        <p>ê°œì¸ íˆ¬ììë“¤ì˜ ë§¤ë§¤ í˜„í™©</p>\n                        <p className=\"mt-1 text-xs\">ìŠ¤ë§ˆíŠ¸ë¨¸ë‹ˆì™€ ë°˜ëŒ€ë¡œ ì›€ì§ì´ë©´ ê¸ì • ì‹ í˜¸</p>\n                      </TooltipContent>\n                    </Tooltip>\n                  </h4>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span>ìˆœë§¤ìˆ˜</span>\n                      <span className={`font-bold ${(latest._flows?.ê°œì¸ || 0) > 0 ? 'text-red-600' : 'text-blue-600'}`}>\n                        {formatKRW(latest._flows?.ê°œì¸ || 0)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* í¬ì§€ì…˜ ê´€ë¦¬ */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingUp className=\"w-5 h-5\" />\n              ë¦¬ìŠ¤í¬ ì¡°ì • í¬ì§€ì…˜ ê´€ë¦¬\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg\">\n                <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                  ìµœì  í¬ì§€ì…˜ í¬ê¸°\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-400\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p>Kelly Criterionì„ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°</p>\n                      <p>ì•ˆì „ì„ ìœ„í•´ 1/4 Kelly ì ìš©</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </h4>\n                <p className=\"text-2xl font-bold text-green-700 mb-2\">\n                  {formatKRW(optimalPosition.size)}\n                </p>\n                <div className=\"space-y-1 text-xs text-gray-600\">\n                  {optimalPosition.reasoning?.map((reason, idx) => {\n                    const koreanLabels = {\n                      'Kelly Fraction': 'Kelly ë¹„ìœ¨',\n                      'Volatility Adjustment': 'ë³€ë™ì„± ì¡°ì •',\n                      'Win Rate': 'ìŠ¹ë¥ ',\n                      'Risk-Adjusted Size': 'ë¦¬ìŠ¤í¬ ì¡°ì • í¬ê¸°',\n                      'Insufficient loss data': 'ì†ì‹¤ ë°ì´í„° ë¶€ì¡±',\n                      'ìµœì†Œ 20ì¼ ë°ì´í„° í•„ìš”': 'ìµœì†Œ 20ì¼ ë°ì´í„° í•„ìš”'\n                    };\n                    let translatedReason = reason;\n                    Object.entries(koreanLabels).forEach(([eng, kor]) => {\n                      translatedReason = translatedReason.replace(eng, kor);\n                    });\n                    return <p key={idx}>â€¢ {translatedReason}</p>;\n                  })}\n                </div>\n              </div>\n              \n              <div className=\"p-4 bg-gradient-to-br from-red-50 to-orange-50 rounded-lg\">\n                <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                  ë™ì  ë¦¬ìŠ¤í¬ ê´€ë¦¬\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-400\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p>ì‹œì¥ ìƒí™©ê³¼ ë³€ë™ì„±ì— ë”°ë¼</p>\n                      <p>ë¦¬ìŠ¤í¬ í•œë„ê°€ ìë™ ì¡°ì •ë©ë‹ˆë‹¤</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </h4>\n                <div className=\"space-y-2\">\n                  <div>\n                    <span className=\"text-sm text-gray-600\">ì†ì ˆì„ :</span>\n                    <p className=\"font-bold text-red-600\">\n                      {tradingSignal.recommendation?.stopLoss || 'ì§„ì…ê°€ -5%'}\n                    </p>\n                  </div>\n                  <div>\n                    <span className=\"text-sm text-gray-600\">ëª©í‘œ ë¹„ì¤‘:</span>\n                    <p className=\"font-bold text-orange-600\">\n                      {tradingSignal.recommendation?.targetAllocation || '5-10%'}\n                    </p>\n                  </div>\n                  <div>\n                    <span className=\"text-sm text-gray-600\">ë¦¬ìŠ¤í¬ ë°°ìˆ˜:</span>\n                    <p className=\"font-bold\">\n                      {tradingSignal.riskMultiplier?.toFixed(2) || '1.00'}x\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* Risk Warnings */}\n            {marketRegime === 'HIGH_VOLATILITY' && (\n              <div className=\"mt-4 p-3 bg-orange-100 border border-orange-300 rounded-lg flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-orange-600 flex-shrink-0\" />\n                <p className=\"text-sm text-orange-700\">\n                  ê³ ë³€ë™ì„± ê°ì§€. í¬ì§€ì…˜ í¬ê¸°ê°€ ìë™ìœ¼ë¡œ {((1 - (tradingSignal.riskMultiplier || 0.7)) * 100).toFixed(0)}% ê°ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\n                </p>\n              </div>\n            )}\n            \n            {calculations.dailyVaR > 4 && (\n              <div className=\"mt-4 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-red-600 flex-shrink-0\" />\n                <p className=\"text-sm text-red-700\">\n                  ê·¹ë‹¨ì  ë¦¬ìŠ¤í¬ ìˆ˜ì¤€. ë…¸ì¶œë„ë¥¼ ì¤„ì´ê±°ë‚˜ í—¤ì§€ë¥¼ ê³ ë ¤í•˜ì„¸ìš”.\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </TooltipProvider>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}