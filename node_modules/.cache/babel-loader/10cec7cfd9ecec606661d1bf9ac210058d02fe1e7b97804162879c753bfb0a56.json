{"ast":null,"code":"import React,{useMemo}from'react';import{Card,CardContent,CardHeader,CardTitle}from'./ui/card';import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from'./ui/tooltip';import{AlertTriangle,TrendingUp,TrendingDown,Target,Shield,DollarSign,Info,AlertCircle,CheckCircle,XCircle,BarChart3,Zap,Clock}from'lucide-react';import{generateTradingSignals,detectAccumulationPattern,detectBreakoutPattern,detectReversalPattern,detectDistributionPattern,backtestSignalPerformance}from'../utils/institutionalAnalytics';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TradingSignalPanel(_ref){var _latestSignals$signal,_backtest$trades;let{data}=_ref;// 최신 매매 신호\nconst latestSignals=useMemo(()=>{if(!data||data.length<60)return null;return generateTradingSignals(data,data.length-1);},[data]);// 패턴 감지\nconst patterns=useMemo(()=>{if(!data||data.length<60)return{};const index=data.length-1;return{accumulation:detectAccumulationPattern(data,index),breakout:detectBreakoutPattern(data,index),reversal:detectReversalPattern(data,index),distribution:detectDistributionPattern(data,index)};},[data]);// 백테스팅 결과\nconst backtest=useMemo(()=>{if(!data||data.length<100)return null;return backtestSignalPerformance(data);},[data]);const formatKRW=num=>{const absNum=Math.abs(num);if(absNum>=100000000)return\"\".concat((num/100000000).toFixed(1),\"\\uC5B5\");if(absNum>=10000)return\"\".concat((num/10000).toFixed(0),\"\\uB9CC\");return num.toLocaleString();};const formatPrice=price=>{return price?price.toLocaleString()+'원':'N/A';};if(!data||data.length<60){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"p-6\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"\\uB9E4\\uB9E4 \\uC2E0\\uD638 \\uC0DD\\uC131\\uC744 \\uC704\\uD574 \\uCD5C\\uC18C 60\\uC77C \\uB370\\uC774\\uD130\\uAC00 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"})})});}const latest=data[data.length-1];return/*#__PURE__*/_jsx(TooltipProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-green-300 bg-gradient-to-r from-green-50 to-emerald-50\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5 text-green-600\"}),\"\\uD83D\\uDCB0 \\uC2E4\\uC2DC\\uAC04 \\uB9E4\\uB9E4 \\uC2E0\\uD638\"]})}),/*#__PURE__*/_jsx(CardContent,{children:(latestSignals===null||latestSignals===void 0?void 0:(_latestSignals$signal=latestSignals.signals)===null||_latestSignals$signal===void 0?void 0:_latestSignals$signal.length)>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[latestSignals.signals.map((signal,idx)=>{var _signal$confidence;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg border-2 \".concat(signal.type==='BUY'?'bg-green-50 border-green-300':'bg-red-50 border-red-300'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[signal.type==='BUY'?/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6 text-green-600\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"w-6 h-6 text-red-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold \".concat(signal.type==='BUY'?'text-green-700':'text-red-700'),children:[signal.type==='BUY'?'매수':'매도',\" \\uC2E0\\uD638\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(signal.strength==='STRONG'?'bg-purple-100 text-purple-700':'bg-yellow-100 text-yellow-700'),children:signal.strength==='STRONG'?'강력':'보통'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"\\uC2E0\\uB8B0\\uB3C4\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold\",children:[(_signal$confidence=signal.confidence)===null||_signal$confidence===void 0?void 0:_signal$confidence.toFixed(0),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-gray-700\",children:[\"\\uD83D\\uDCCC \",signal.reason]}),signal.type==='BUY'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"\\uC9C4\\uC785\\uAC00\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-green-600\",children:formatPrice(signal.entry)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"\\uC190\\uC808\\uAC00\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-600\",children:formatPrice(signal.stopLoss)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"1\\uCC28\\uBAA9\\uD45C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-blue-600\",children:formatPrice(signal.target1)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"2\\uCC28\\uBAA9\\uD45C\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-blue-600\",children:formatPrice(signal.target2)})]})]}),signal.type==='SELL'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-white rounded\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-red-700\",children:[\"\\u26A0\\uFE0F \",signal.action]})}),signal.riskReward&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"\\uC190\\uC775\\uBE44\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-purple-600\",children:[\"1:\",signal.riskReward.toFixed(1)]})]}),signal.warning&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-orange-600 mt-2\",children:[\"\\u26A0\\uFE0F \",signal.warning]})]})]},idx);}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-center\",children:latestSignals.summary}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-center text-gray-600 mt-1\",children:[\"\\uB9AC\\uC2A4\\uD06C \\uB808\\uBCA8: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat(latestSignals.riskLevel==='HIGH'?'text-red-600':latestSignals.riskLevel==='MEDIUM'?'text-yellow-600':'text-green-600'),children:latestSignals.riskLevel})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-12 h-12 text-gray-400 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium\",children:\"\\uD604\\uC7AC \\uAD00\\uB9DD \\uAD6C\\uAC04\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"\\uBA85\\uD655\\uD55C \\uB9E4\\uB9E4 \\uC2E0\\uD638\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\uAE30\\uB2E4\\uB9AC\\uC138\\uC694.\"})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-purple-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-purple-700\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5\"}),\"\\uD328\\uD134 \\uC778\\uC2DD \\uC2DC\\uC2A4\\uD15C\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:Object.entries(patterns).map(_ref2=>{var _pattern$confidence;let[name,pattern]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-lg border \".concat(pattern.detected?'bg-purple-50 border-purple-300':'bg-gray-50 border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:name==='accumulation'?'매집':name==='breakout'?'돌파':name==='reversal'?'반등':'분산'}),pattern.detected?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-500\"}):/*#__PURE__*/_jsx(XCircle,{className:\"w-4 h-4 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(pattern.detected?'bg-purple-500':'bg-gray-300'),style:{width:\"\".concat(pattern.confidence||0,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-bold\",children:[((_pattern$confidence=pattern.confidence)===null||_pattern$confidence===void 0?void 0:_pattern$confidence.toFixed(0))||0,\"%\"]})]}),pattern.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:pattern.description})]},name);})})})]}),backtest&&/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-indigo-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-indigo-700\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5\"}),\"\\uC2DC\\uC2A4\\uD15C \\uC131\\uACFC \\uAC80\\uC99D (\\uBC31\\uD14C\\uC2A4\\uD305)\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-1\",children:\"\\uCD1D \\uC218\\uC775\\uB960\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(parseFloat(backtest.totalReturn)>0?'text-green-600':'text-red-600'),children:[backtest.totalReturn,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-1\",children:\"\\uC2B9\\uB960\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[backtest.winRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-1\",children:\"\\uC190\\uC775\\uBE44\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:backtest.profitFactor})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-1\",children:\"\\uCD5C\\uB300\\uB099\\uD3ED\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-orange-600\",children:[\"-\",backtest.maxDrawdown,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uCD1D \\uAC70\\uB798 \\uD69F\\uC218:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-bold\",children:[backtest.totalTrades,\"\\uD68C\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uC0E4\\uD504 \\uBE44\\uC728:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-bold\",children:backtest.sharpeRatio})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uD3C9\\uADE0 \\uC218\\uC775:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-bold text-green-600\",children:[\"+\",backtest.avgWin,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"\\uD3C9\\uADE0 \\uC190\\uC2E4:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-bold text-red-600\",children:[\"-\",backtest.avgLoss,\"%\"]})]})]}),((_backtest$trades=backtest.trades)===null||_backtest$trades===void 0?void 0:_backtest$trades.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-sm mb-2\",children:\"\\uCD5C\\uADFC \\uAC70\\uB798 \\uB0B4\\uC5ED\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 max-h-40 overflow-y-auto\",children:backtest.trades.map((trade,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-gray-50 rounded text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:trade.date}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(trade.type==='BUY'?'text-green-600':'text-red-600'),children:trade.type}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(trade.price)}),trade.profit!==undefined&&/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold \".concat(trade.profit>0?'text-green-600':'text-red-600'),children:[trade.profit>0?'+':'',trade.profit.toFixed(1),\"%\"]})]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-700\",children:\"\\uD83D\\uDCA1 \\uC774 \\uBC31\\uD14C\\uC2A4\\uD305\\uC740 \\uACFC\\uAC70 \\uB370\\uC774\\uD130 \\uAE30\\uBC18 \\uC2DC\\uBBAC\\uB808\\uC774\\uC158\\uC774\\uBA70, \\uC2E4\\uC81C \\uD22C\\uC790 \\uACB0\\uACFC\\uC640 \\uB2E4\\uB97C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC218\\uC218\\uB8CC 0.3% \\uC801\\uC6A9.\"})})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border border-gray-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-gray-700\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5\"}),\"\\uD22C\\uC790 \\uC2E4\\uD589 \\uAC00\\uC774\\uB4DC\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-green-700 mb-1\",children:\"\\u2705 \\uB9E4\\uC218 \\uC2E0\\uD638 \\uC2DC\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1 text-green-600 text-xs\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uC81C\\uC2DC\\uB41C \\uC9C4\\uC785\\uAC00 \\uADFC\\uCC98\\uC5D0\\uC11C \\uBD84\\uD560 \\uB9E4\\uC218\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uBC18\\uB4DC\\uC2DC \\uC190\\uC808\\uAC00 \\uC124\\uC815 (\\uC9C4\\uC785\\uAC00 -5~7%)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uC804\\uCCB4 \\uC790\\uC0B0\\uC758 30% \\uC774\\uB0B4\\uB85C \\uC81C\\uD55C\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 1\\uCC28 \\uBAA9\\uD45C\\uAC00\\uC5D0\\uC11C 50% \\uC775\\uC808\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-red-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-red-700 mb-1\",children:\"\\uD83D\\uDED1 \\uB9E4\\uB3C4 \\uC2E0\\uD638 \\uC2DC\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1 text-red-600 text-xs\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uC989\\uC2DC \\uD3EC\\uC9C0\\uC158 \\uC815\\uB9AC \\uB610\\uB294 \\uCD95\\uC18C\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uBD84\\uC0B0 \\uD328\\uD134 \\uD655\\uC778 \\uC2DC \\uC804\\uB7C9 \\uB9E4\\uB3C4\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uC190\\uC2E4 -5% \\uB3C4\\uB2EC \\uC2DC \\uBB34\\uC870\\uAC74 \\uC190\\uC808\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uCD94\\uAC00 \\uB9E4\\uC218 \\uC808\\uB300 \\uAE08\\uC9C0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-yellow-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-yellow-700 mb-1\",children:\"\\u26A0\\uFE0F \\uB9AC\\uC2A4\\uD06C \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-1 text-yellow-600 text-xs\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uACE0\\uBCC0\\uB3D9\\uC131 \\uC2DC\\uC7A5: \\uD3EC\\uC9C0\\uC158 50% \\uCD95\\uC18C\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uC5F0\\uC18D 2\\uD68C \\uC190\\uC2E4 \\uC2DC: 1\\uC8FC\\uC77C \\uD734\\uC2DD\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uC6D4 \\uCD5C\\uB300 \\uC190\\uC2E4 \\uD55C\\uB3C4: -10%\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 \\uAC10\\uC815\\uC801 \\uB9E4\\uB9E4 \\uC808\\uB300 \\uAE08\\uC9C0\"})]})]})]})})]})]})});}","map":{"version":3,"names":["React","useMemo","Card","CardContent","CardHeader","CardTitle","Tooltip","TooltipContent","TooltipProvider","TooltipTrigger","AlertTriangle","TrendingUp","TrendingDown","Target","Shield","DollarSign","Info","AlertCircle","CheckCircle","XCircle","BarChart3","Zap","Clock","generateTradingSignals","detectAccumulationPattern","detectBreakoutPattern","detectReversalPattern","detectDistributionPattern","backtestSignalPerformance","jsx","_jsx","jsxs","_jsxs","TradingSignalPanel","_ref","_latestSignals$signal","_backtest$trades","data","latestSignals","length","patterns","index","accumulation","breakout","reversal","distribution","backtest","formatKRW","num","absNum","Math","abs","concat","toFixed","toLocaleString","formatPrice","price","children","className","latest","signals","map","signal","idx","_signal$confidence","type","strength","confidence","reason","entry","stopLoss","target1","target2","action","riskReward","warning","summary","riskLevel","Object","entries","_ref2","_pattern$confidence","name","pattern","detected","style","width","description","parseFloat","totalReturn","winRate","profitFactor","maxDrawdown","totalTrades","sharpeRatio","avgWin","avgLoss","trades","trade","date","profit","undefined"],"sources":["C:/Users/kloud/OneDrive/Desktop/Paradise/src/components/TradingSignalPanel.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from './ui/tooltip';\nimport { \n  AlertTriangle, TrendingUp, TrendingDown, Target, Shield, \n  DollarSign, Info, AlertCircle, CheckCircle, XCircle,\n  BarChart3, Zap, Clock\n} from 'lucide-react';\nimport { \n  generateTradingSignals, \n  detectAccumulationPattern,\n  detectBreakoutPattern,\n  detectReversalPattern,\n  detectDistributionPattern,\n  backtestSignalPerformance \n} from '../utils/institutionalAnalytics';\n\nexport default function TradingSignalPanel({ data }) {\n  // 최신 매매 신호\n  const latestSignals = useMemo(() => {\n    if (!data || data.length < 60) return null;\n    return generateTradingSignals(data, data.length - 1);\n  }, [data]);\n  \n  // 패턴 감지\n  const patterns = useMemo(() => {\n    if (!data || data.length < 60) return {};\n    const index = data.length - 1;\n    return {\n      accumulation: detectAccumulationPattern(data, index),\n      breakout: detectBreakoutPattern(data, index),\n      reversal: detectReversalPattern(data, index),\n      distribution: detectDistributionPattern(data, index)\n    };\n  }, [data]);\n  \n  // 백테스팅 결과\n  const backtest = useMemo(() => {\n    if (!data || data.length < 100) return null;\n    return backtestSignalPerformance(data);\n  }, [data]);\n  \n  const formatKRW = (num) => {\n    const absNum = Math.abs(num);\n    if (absNum >= 100000000) return `${(num / 100000000).toFixed(1)}억`;\n    if (absNum >= 10000) return `${(num / 10000).toFixed(0)}만`;\n    return num.toLocaleString();\n  };\n  \n  const formatPrice = (price) => {\n    return price ? price.toLocaleString() + '원' : 'N/A';\n  };\n  \n  if (!data || data.length < 60) {\n    return (\n      <Card>\n        <CardContent className=\"p-6\">\n          <p className=\"text-center text-gray-500\">\n            매매 신호 생성을 위해 최소 60일 데이터가 필요합니다.\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n  \n  const latest = data[data.length - 1];\n  \n  return (\n    <TooltipProvider>\n      <div className=\"space-y-4\">\n        {/* 실시간 매매 신호 */}\n        <Card className=\"border-2 border-green-300 bg-gradient-to-r from-green-50 to-emerald-50\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-green-600\" />\n              💰 실시간 매매 신호\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            {latestSignals?.signals?.length > 0 ? (\n              <div className=\"space-y-4\">\n                {latestSignals.signals.map((signal, idx) => (\n                  <div key={idx} className={`p-4 rounded-lg border-2 ${\n                    signal.type === 'BUY' ? \n                    'bg-green-50 border-green-300' : \n                    'bg-red-50 border-red-300'\n                  }`}>\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center gap-2\">\n                        {signal.type === 'BUY' ? (\n                          <TrendingUp className=\"w-6 h-6 text-green-600\" />\n                        ) : (\n                          <TrendingDown className=\"w-6 h-6 text-red-600\" />\n                        )}\n                        <span className={`text-xl font-bold ${\n                          signal.type === 'BUY' ? 'text-green-700' : 'text-red-700'\n                        }`}>\n                          {signal.type === 'BUY' ? '매수' : '매도'} 신호\n                        </span>\n                        <span className={`px-2 py-1 rounded text-xs font-medium ${\n                          signal.strength === 'STRONG' ? \n                          'bg-purple-100 text-purple-700' : \n                          'bg-yellow-100 text-yellow-700'\n                        }`}>\n                          {signal.strength === 'STRONG' ? '강력' : '보통'}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-sm text-gray-600\">신뢰도</span>\n                        <span className=\"text-lg font-bold\">\n                          {signal.confidence?.toFixed(0)}%\n                        </span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-2 text-sm\">\n                      <p className=\"font-medium text-gray-700\">\n                        📌 {signal.reason}\n                      </p>\n                      \n                      {signal.type === 'BUY' && (\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3\">\n                          <div className=\"bg-white p-2 rounded\">\n                            <span className=\"text-xs text-gray-600\">진입가</span>\n                            <p className=\"font-bold text-green-600\">\n                              {formatPrice(signal.entry)}\n                            </p>\n                          </div>\n                          <div className=\"bg-white p-2 rounded\">\n                            <span className=\"text-xs text-gray-600\">손절가</span>\n                            <p className=\"font-bold text-red-600\">\n                              {formatPrice(signal.stopLoss)}\n                            </p>\n                          </div>\n                          <div className=\"bg-white p-2 rounded\">\n                            <span className=\"text-xs text-gray-600\">1차목표</span>\n                            <p className=\"font-bold text-blue-600\">\n                              {formatPrice(signal.target1)}\n                            </p>\n                          </div>\n                          <div className=\"bg-white p-2 rounded\">\n                            <span className=\"text-xs text-gray-600\">2차목표</span>\n                            <p className=\"font-bold text-blue-600\">\n                              {formatPrice(signal.target2)}\n                            </p>\n                          </div>\n                        </div>\n                      )}\n                      \n                      {signal.type === 'SELL' && (\n                        <div className=\"mt-3 p-3 bg-white rounded\">\n                          <p className=\"font-medium text-red-700\">\n                            ⚠️ {signal.action}\n                          </p>\n                        </div>\n                      )}\n                      \n                      {signal.riskReward && (\n                        <div className=\"flex items-center gap-2 mt-2\">\n                          <span className=\"text-xs text-gray-600\">손익비</span>\n                          <span className=\"font-bold text-purple-600\">\n                            1:{signal.riskReward.toFixed(1)}\n                          </span>\n                        </div>\n                      )}\n                      \n                      {signal.warning && (\n                        <p className=\"text-xs text-orange-600 mt-2\">\n                          ⚠️ {signal.warning}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                ))}\n                \n                {/* 요약 */}\n                <div className=\"mt-4 p-3 bg-gray-100 rounded-lg\">\n                  <p className=\"text-sm font-medium text-center\">\n                    {latestSignals.summary}\n                  </p>\n                  <p className=\"text-xs text-center text-gray-600 mt-1\">\n                    리스크 레벨: <span className={`font-bold ${\n                      latestSignals.riskLevel === 'HIGH' ? 'text-red-600' :\n                      latestSignals.riskLevel === 'MEDIUM' ? 'text-yellow-600' :\n                      'text-green-600'\n                    }`}>{latestSignals.riskLevel}</span>\n                  </p>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <Clock className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n                <p className=\"text-gray-600 font-medium\">현재 관망 구간</p>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  명확한 매매 신호가 없습니다. 기다리세요.\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n        \n        {/* 패턴 인식 결과 */}\n        <Card className=\"border-2 border-purple-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-purple-700\">\n              <BarChart3 className=\"w-5 h-5\" />\n              패턴 인식 시스템\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n              {Object.entries(patterns).map(([name, pattern]) => (\n                <div key={name} className={`p-3 rounded-lg border ${\n                  pattern.detected ? \n                  'bg-purple-50 border-purple-300' : \n                  'bg-gray-50 border-gray-200'\n                }`}>\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm font-medium\">\n                      {name === 'accumulation' ? '매집' :\n                       name === 'breakout' ? '돌파' :\n                       name === 'reversal' ? '반등' :\n                       '분산'}\n                    </span>\n                    {pattern.detected ? (\n                      <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                      <div \n                        className={`h-2 rounded-full ${\n                          pattern.detected ? 'bg-purple-500' : 'bg-gray-300'\n                        }`}\n                        style={{ width: `${pattern.confidence || 0}%` }}\n                      />\n                    </div>\n                    <span className=\"text-xs font-bold\">\n                      {pattern.confidence?.toFixed(0) || 0}%\n                    </span>\n                  </div>\n                  {pattern.description && (\n                    <p className=\"text-xs text-gray-600 mt-1\">\n                      {pattern.description}\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n        \n        {/* 백테스팅 성과 */}\n        {backtest && (\n          <Card className=\"border-2 border-indigo-200\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2 text-indigo-700\">\n                <Target className=\"w-5 h-5\" />\n                시스템 성과 검증 (백테스팅)\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                <div className=\"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg\">\n                  <p className=\"text-xs text-gray-600 mb-1\">총 수익률</p>\n                  <p className={`text-2xl font-bold ${\n                    parseFloat(backtest.totalReturn) > 0 ? 'text-green-600' : 'text-red-600'\n                  }`}>\n                    {backtest.totalReturn}%\n                  </p>\n                </div>\n                <div className=\"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg\">\n                  <p className=\"text-xs text-gray-600 mb-1\">승률</p>\n                  <p className=\"text-2xl font-bold text-blue-600\">\n                    {backtest.winRate}%\n                  </p>\n                </div>\n                <div className=\"text-center p-3 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg\">\n                  <p className=\"text-xs text-gray-600 mb-1\">손익비</p>\n                  <p className=\"text-2xl font-bold text-purple-600\">\n                    {backtest.profitFactor}\n                  </p>\n                </div>\n                <div className=\"text-center p-3 bg-gradient-to-br from-orange-50 to-red-50 rounded-lg\">\n                  <p className=\"text-xs text-gray-600 mb-1\">최대낙폭</p>\n                  <p className=\"text-2xl font-bold text-orange-600\">\n                    -{backtest.maxDrawdown}%\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div className=\"p-3 bg-gray-50 rounded\">\n                  <span className=\"text-gray-600\">총 거래 횟수:</span>\n                  <span className=\"ml-2 font-bold\">{backtest.totalTrades}회</span>\n                </div>\n                <div className=\"p-3 bg-gray-50 rounded\">\n                  <span className=\"text-gray-600\">샤프 비율:</span>\n                  <span className=\"ml-2 font-bold\">{backtest.sharpeRatio}</span>\n                </div>\n                <div className=\"p-3 bg-gray-50 rounded\">\n                  <span className=\"text-gray-600\">평균 수익:</span>\n                  <span className=\"ml-2 font-bold text-green-600\">+{backtest.avgWin}%</span>\n                </div>\n                <div className=\"p-3 bg-gray-50 rounded\">\n                  <span className=\"text-gray-600\">평균 손실:</span>\n                  <span className=\"ml-2 font-bold text-red-600\">-{backtest.avgLoss}%</span>\n                </div>\n              </div>\n              \n              {/* 최근 거래 내역 */}\n              {backtest.trades?.length > 0 && (\n                <div className=\"mt-4\">\n                  <h4 className=\"font-medium text-sm mb-2\">최근 거래 내역</h4>\n                  <div className=\"space-y-1 max-h-40 overflow-y-auto\">\n                    {backtest.trades.map((trade, idx) => (\n                      <div key={idx} className=\"flex items-center justify-between p-2 bg-gray-50 rounded text-xs\">\n                        <span className=\"text-gray-600\">{trade.date}</span>\n                        <span className={`font-medium ${\n                          trade.type === 'BUY' ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {trade.type}\n                        </span>\n                        <span>{formatPrice(trade.price)}</span>\n                        {trade.profit !== undefined && (\n                          <span className={`font-bold ${\n                            trade.profit > 0 ? 'text-green-600' : 'text-red-600'\n                          }`}>\n                            {trade.profit > 0 ? '+' : ''}{trade.profit.toFixed(1)}%\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\n                <p className=\"text-xs text-blue-700\">\n                  💡 이 백테스팅은 과거 데이터 기반 시뮬레이션이며, \n                  실제 투자 결과와 다를 수 있습니다. 수수료 0.3% 적용.\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n        \n        {/* 투자 가이드 */}\n        <Card className=\"border border-gray-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-gray-700\">\n              <Shield className=\"w-5 h-5\" />\n              투자 실행 가이드\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"p-3 bg-green-50 rounded-lg\">\n                <p className=\"font-medium text-green-700 mb-1\">✅ 매수 신호 시</p>\n                <ul className=\"space-y-1 text-green-600 text-xs\">\n                  <li>• 제시된 진입가 근처에서 분할 매수</li>\n                  <li>• 반드시 손절가 설정 (진입가 -5~7%)</li>\n                  <li>• 전체 자산의 30% 이내로 제한</li>\n                  <li>• 1차 목표가에서 50% 익절</li>\n                </ul>\n              </div>\n              \n              <div className=\"p-3 bg-red-50 rounded-lg\">\n                <p className=\"font-medium text-red-700 mb-1\">🛑 매도 신호 시</p>\n                <ul className=\"space-y-1 text-red-600 text-xs\">\n                  <li>• 즉시 포지션 정리 또는 축소</li>\n                  <li>• 분산 패턴 확인 시 전량 매도</li>\n                  <li>• 손실 -5% 도달 시 무조건 손절</li>\n                  <li>• 추가 매수 절대 금지</li>\n                </ul>\n              </div>\n              \n              <div className=\"p-3 bg-yellow-50 rounded-lg\">\n                <p className=\"font-medium text-yellow-700 mb-1\">⚠️ 리스크 관리</p>\n                <ul className=\"space-y-1 text-yellow-600 text-xs\">\n                  <li>• 고변동성 시장: 포지션 50% 축소</li>\n                  <li>• 연속 2회 손실 시: 1주일 휴식</li>\n                  <li>• 월 최대 손실 한도: -10%</li>\n                  <li>• 감정적 매매 절대 금지</li>\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </TooltipProvider>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}