{"ast":null,"code":"import React,{useMemo}from\"react\";import{Card,CardContent,CardHeader,CardTitle}from\"./ui/card\";import{Tooltip,TooltipContent,TooltipProvider,TooltipTrigger}from\"./ui/tooltip\";import{AlertTriangle,TrendingUp,DollarSign,Shield,Info,BarChart3,Activity,Target,AlertCircle}from\"lucide-react\";import{RISK_INDICATORS}from\"../constants/indicatorDescriptions\";import{calculateInstitutionalSmartMoneyScore,calculateInstitutionalTradingSignal,detectMarketRegime,calculateOptimalPositionSize,backtestSignalPerformance}from\"../utils/institutionalAnalytics\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function InstitutionalDashboard(_ref){var _tradingSignal$signal,_tradingSignal$recomm,_tradingSignal$recomm2,_tradingSignal$recomm3,_tradingSignal$recomm4,_tradingSignal$recomm5,_tradingSignal$recomm6,_tradingSignal$recomm7,_tradingSignal$recomm8,_tradingSignal$recomm9,_smartMoneyScore$scor,_tradingSignal$recomm0,_tradingSignal$recomm1,_tradingSignal$factor,_calculations$dailyVa,_calculations$sharpeR,_latest$_flows,_latest$_flows2,_latest$_flows3,_latest$_flows4,_latest$_flows5,_latest$_flows6,_optimalPosition$reas,_tradingSignal$recomm10,_tradingSignal$recomm11,_tradingSignal$riskMu;let{data,unitScale}=_ref;// 포트폴리오 가정 금액 (예시)\nconst FUND_SIZE=100000000;// 1억원\nconst latestIndex=data.length-1;const latest=useMemo(()=>data[latestIndex]||{},[data,latestIndex]);// Advanced Analytics Calculations\nconst smartMoneyScore=useMemo(()=>{if(data.length<60)return{score:0,breakdown:{}};return calculateInstitutionalSmartMoneyScore(data,latestIndex);},[data,latestIndex]);const tradingSignal=useMemo(()=>{if(data.length<60)return{signal:0,factors:[],positionSize:{}};return calculateInstitutionalTradingSignal(data,latestIndex);},[data,latestIndex]);const marketRegime=useMemo(()=>{if(data.length<60)return'UNKNOWN';return detectMarketRegime(data,latestIndex);},[data,latestIndex]);const optimalPosition=useMemo(()=>{if(data.length<60)return{size:0,leverage:1,reasoning:[]};return calculateOptimalPositionSize(data,latestIndex,FUND_SIZE);},[data,latestIndex]);const signalBacktest=useMemo(()=>{if(data.length<100)return null;return backtestSignalPerformance(data);},[data]);// 리스크 계산\nconst calculations=useMemo(()=>{if(!data||data.length<20)return{};// 변동성 계산 (20일)\nconst returns=[];for(let i=1;i<Math.min(data.length,21);i++){const ret=(data[i].close-data[i-1].close)/data[i-1].close;returns.push(ret);}const avgReturn=returns.reduce((a,b)=>a+b,0)/returns.length;const variance=returns.reduce((sum,ret)=>sum+Math.pow(ret-avgReturn,2),0)/returns.length;const volatility=Math.sqrt(variance)*Math.sqrt(252);// 연율화\n// VaR 계산 (95% 신뢰수준)\nconst dailyVaR=volatility/Math.sqrt(252)*1.65;// 일평균 거래대금 (최근 20일)\nconst avgVolume=data.slice(-20).reduce((sum,d)=>sum+d.close*d.volume,0)/20;// 최대 안전 거래 가능 금액 (일평균의 5%)\nconst safeTradeSize=avgVolume*0.05;// 현재 포지션 가정 (전체 펀드의 0.1%)\nconst positionSize=FUND_SIZE*0.001;const positionVaR=positionSize*dailyVaR;return{volatility:volatility*100,dailyVaR:dailyVaR*100,positionVaR,avgVolume,safeTradeSize,positionSize,sharpeRatio:avgReturn>0?avgReturn*252/volatility:0};},[data]);// Removed unused flowScore calculation as it's now replaced by smartMoneyScore\nconst formatKRW=num=>{const absNum=Math.abs(num);if(absNum>=1000000000000)return\"\".concat((num/1000000000000).toFixed(1),\"\\uC870\\uC6D0\");if(absNum>=100000000)return\"\".concat((num/100000000).toFixed(1),\"\\uC5B5\\uC6D0\");if(absNum>=10000)return\"\".concat((num/10000).toFixed(0),\"\\uB9CC\\uC6D0\");return\"\".concat(num.toLocaleString(),\"\\uC6D0\");};return/*#__PURE__*/_jsx(TooltipProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6\"}),\"Quant Trading Dashboard\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(marketRegime==='BULL_TRENDING'?'bg-green-100 text-green-800':marketRegime==='BEAR_TRENDING'?'bg-red-100 text-red-800':marketRegime==='HIGH_VOLATILITY'?'bg-orange-100 text-orange-800':marketRegime==='RANGE_BOUND'?'bg-gray-100 text-gray-800':marketRegime==='BREAKOUT_POTENTIAL'?'bg-purple-100 text-purple-800':'bg-blue-100 text-blue-800'),children:[\"Market: \",marketRegime===null||marketRegime===void 0?void 0:marketRegime.replace('_',' ')]})})]}),/*#__PURE__*/_jsx(Card,{className:\"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-indigo-50\",children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 mb-2\",children:\"Trading Signal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold mb-2 \".concat(tradingSignal.signal>30?'text-green-600':tradingSignal.signal<-30?'text-red-600':'text-yellow-600'),children:((_tradingSignal$signal=tradingSignal.signal)===null||_tradingSignal$signal===void 0?void 0:_tradingSignal$signal.toFixed(0))||0}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-medium inline-block \".concat(((_tradingSignal$recomm=tradingSignal.recommendation)===null||_tradingSignal$recomm===void 0?void 0:_tradingSignal$recomm.action)==='STRONG BUY'?'bg-green-600 text-white':((_tradingSignal$recomm2=tradingSignal.recommendation)===null||_tradingSignal$recomm2===void 0?void 0:_tradingSignal$recomm2.action)==='BUY'?'bg-green-500 text-white':((_tradingSignal$recomm3=tradingSignal.recommendation)===null||_tradingSignal$recomm3===void 0?void 0:_tradingSignal$recomm3.action)==='ACCUMULATE'?'bg-green-400 text-white':((_tradingSignal$recomm4=tradingSignal.recommendation)===null||_tradingSignal$recomm4===void 0?void 0:_tradingSignal$recomm4.action)==='HOLD'?'bg-yellow-500 text-white':((_tradingSignal$recomm5=tradingSignal.recommendation)===null||_tradingSignal$recomm5===void 0?void 0:_tradingSignal$recomm5.action)==='REDUCE'?'bg-orange-500 text-white':((_tradingSignal$recomm6=tradingSignal.recommendation)===null||_tradingSignal$recomm6===void 0?void 0:_tradingSignal$recomm6.action)==='SELL'?'bg-red-500 text-white':((_tradingSignal$recomm7=tradingSignal.recommendation)===null||_tradingSignal$recomm7===void 0?void 0:_tradingSignal$recomm7.action)==='EXIT'?'bg-red-600 text-white':'bg-gray-500 text-white'),children:((_tradingSignal$recomm8=tradingSignal.recommendation)===null||_tradingSignal$recomm8===void 0?void 0:_tradingSignal$recomm8.action)||'WAIT'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:(_tradingSignal$recomm9=tradingSignal.recommendation)===null||_tradingSignal$recomm9===void 0?void 0:_tradingSignal$recomm9.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 mb-2\",children:\"Smart Money Score\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold mb-2 \".concat(smartMoneyScore.score>65?'text-blue-600':smartMoneyScore.score<35?'text-red-600':'text-gray-600'),children:((_smartMoneyScore$scor=smartMoneyScore.score)===null||_smartMoneyScore$scor===void 0?void 0:_smartMoneyScore$scor.toFixed(0))||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:smartMoneyScore.interpretation})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-600 mb-2\",children:\"Optimal Position\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-indigo-600 mb-1\",children:formatKRW(optimalPosition.size)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[\"Leverage: \",optimalPosition.leverage,\"x\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:(_tradingSignal$recomm0=tradingSignal.recommendation)===null||_tradingSignal$recomm0===void 0?void 0:_tradingSignal$recomm0.targetAllocation})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pt-4 border-t border-purple-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Signal Confidence\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold\",children:tradingSignal.confidence||((_tradingSignal$recomm1=tradingSignal.recommendation)===null||_tradingSignal$recomm1===void 0?void 0:_tradingSignal$recomm1.confidence)||'0%'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all duration-500\",style:{width:\"\".concat(tradingSignal.confidence||0,\"%\")}})})]})]})}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-indigo-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-indigo-700\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-5 h-5\"}),\"Signal Components Analysis\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:(_tradingSignal$factor=tradingSignal.factors)===null||_tradingSignal$factor===void 0?void 0:_tradingSignal$factor.map((factor,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:factor.name}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-3 h-3 text-gray-400\"})}),/*#__PURE__*/_jsxs(TooltipContent,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Weight: \",(factor.weight*100).toFixed(0),\"%\"]}),factor.description&&/*#__PURE__*/_jsx(\"p\",{children:factor.description})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 \".concat(factor.value>0?'bg-green-500':'bg-red-500'),style:{width:\"\".concat(Math.min(100,Math.abs(factor.value)),\"%\"),marginLeft:factor.value<0?'auto':'0'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold min-w-[3rem] text-right \".concat(factor.value>0?'text-green-600':factor.value<0?'text-red-600':'text-gray-600'),children:typeof factor.value==='number'?factor.value.toFixed(0):factor.value})]}),factor.phase&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:factor.phase})]},idx))}),signalBacktest&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-indigo-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4\"}),\"Signal Performance (Last 60 days)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-lg\",children:[signalBacktest.accuracy.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Signals:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:signalBacktest.totalSignals})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Correct:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:signalBacktest.correctSignals})]})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-red-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-red-700\",children:[/*#__PURE__*/_jsx(Shield,{className:\"w-5 h-5\"}),\"\\uB9AC\\uC2A4\\uD06C \\uAD00\\uB9AC \\uC13C\\uD130\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-red-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"\\uC77C\\uC77C VaR\"}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:RISK_INDICATORS.VaR.name}),/*#__PURE__*/_jsx(\"p\",{children:RISK_INDICATORS.VaR.expert})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-red-600\",children:[(_calculations$dailyVa=calculations.dailyVaR)===null||_calculations$dailyVa===void 0?void 0:_calculations$dailyVa.toFixed(2),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\uD3EC\\uC9C0\\uC158 VaR: \",formatKRW(calculations.positionVaR||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"\\uC720\\uB3D9\\uC131 \\uBD84\\uC11D\"}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:RISK_INDICATORS.LIQUIDITY.name}),/*#__PURE__*/_jsx(\"p\",{children:RISK_INDICATORS.LIQUIDITY.expert})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"\\uC77C\\uD3C9\\uADE0 \\uAC70\\uB798\\uB300\\uAE08\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold\",children:formatKRW(calculations.avgVolume||0)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600 mt-1\",children:[\"\\uC548\\uC804 \\uAC70\\uB798 \\uD55C\\uB3C4: \",formatKRW(calculations.safeTradeSize||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"\\uC0E4\\uD504 \\uBE44\\uC728\"}),/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsxs(TooltipContent,{className:\"max-w-xs\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold mb-1\",children:RISK_INDICATORS.SHARPE.name}),/*#__PURE__*/_jsx(\"p\",{children:RISK_INDICATORS.SHARPE.expert})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:((_calculations$sharpeR=calculations.sharpeRatio)===null||_calculations$sharpeR===void 0?void 0:_calculations$sharpeR.toFixed(2))||\"N/A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:calculations.sharpeRatio>2?\"우수\":calculations.sharpeRatio>1?\"양호\":calculations.sharpeRatio>0.5?\"보통\":\"미흡\"})]})]}),calculations.dailyVaR>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-red-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 font-medium\",children:\"\\uACBD\\uACE0: \\uB192\\uC740 \\uBCC0\\uB3D9\\uC131 \\uAC10\\uC9C0. \\uD3EC\\uC9C0\\uC158 \\uCD95\\uC18C\\uB97C \\uAC80\\uD1A0\\uD558\\uC138\\uC694.\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"border-2 border-blue-200\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2 text-blue-700\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5\"}),\"Smart Money Flow Analysis\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:\"Score Components\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:Object.entries(smartMoneyScore.breakdown||{}).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 capitalize\",children:[key.replace(/([A-Z])/g,' $1').trim(),\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-bold \".concat(value>0?'text-green-600':value<0?'text-red-600':'text-gray-600'),children:typeof value==='number'?value.toFixed(1):value})]},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"\\uC2A4\\uB9C8\\uD2B8\\uBA38\\uB2C8\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-500\"})}),/*#__PURE__*/_jsx(TooltipContent,{className:\"max-w-xs\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC678\\uAD6D\\uC778 + \\uAE30\\uAD00\\uC758 \\uD569\\uACC4. \\uC815\\uBCF4\\uB825\\uACFC \\uC790\\uAE08\\uB825\\uC744 \\uAC16\\uCD98 \\uD22C\\uC790 \\uC8FC\\uCCB4\\uC785\\uB2C8\\uB2E4.\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC678\\uAD6D\\uC778\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat((((_latest$_flows=latest._flows)===null||_latest$_flows===void 0?void 0:_latest$_flows.외국인)||0)>0?'text-red-600':'text-blue-600'),children:formatKRW(((_latest$_flows2=latest._flows)===null||_latest$_flows2===void 0?void 0:_latest$_flows2.외국인)||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uAE30\\uAD00\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat((((_latest$_flows3=latest._flows)===null||_latest$_flows3===void 0?void 0:_latest$_flows3.기관합계)||0)>0?'text-red-600':'text-blue-600'),children:formatKRW(((_latest$_flows4=latest._flows)===null||_latest$_flows4===void 0?void 0:_latest$_flows4.기관합계)||0)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\uAC1C\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uAC1C\\uC778\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat((((_latest$_flows5=latest._flows)===null||_latest$_flows5===void 0?void 0:_latest$_flows5.개인)||0)>0?'text-red-600':'text-blue-600'),children:formatKRW(((_latest$_flows6=latest._flows)===null||_latest$_flows6===void 0?void 0:_latest$_flows6.개인)||0)})]})]})]})]})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5\"}),\"Risk-Adjusted Position Management\"]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"Kelly-Optimized Position\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-400\"})}),/*#__PURE__*/_jsx(TooltipContent,{className:\"max-w-xs\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Position size calculated using Modified Kelly Criterion with 25% fractional Kelly for safety\"})})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-700 mb-2\",children:formatKRW(optimalPosition.size)}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 text-xs text-gray-600\",children:(_optimalPosition$reas=optimalPosition.reasoning)===null||_optimalPosition$reas===void 0?void 0:_optimalPosition$reas.map((reason,idx)=>/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2022 \",reason]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-red-50 to-orange-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium mb-2 flex items-center gap-2\",children:[\"Dynamic Risk Controls\",/*#__PURE__*/_jsxs(Tooltip,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{children:/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 text-gray-400\"})}),/*#__PURE__*/_jsx(TooltipContent,{className:\"max-w-xs\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Risk limits adjusted based on market regime and volatility\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Stop Loss:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-red-600\",children:((_tradingSignal$recomm10=tradingSignal.recommendation)===null||_tradingSignal$recomm10===void 0?void 0:_tradingSignal$recomm10.stopLoss)||'진입가 -5%'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Target Allocation:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-orange-600\",children:((_tradingSignal$recomm11=tradingSignal.recommendation)===null||_tradingSignal$recomm11===void 0?void 0:_tradingSignal$recomm11.targetAllocation)||'5-10%'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Risk Multiplier:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold\",children:[((_tradingSignal$riskMu=tradingSignal.riskMultiplier)===null||_tradingSignal$riskMu===void 0?void 0:_tradingSignal$riskMu.toFixed(2))||'1.00',\"x\"]})]})]})]})]}),marketRegime==='HIGH_VOLATILITY'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-orange-100 border border-orange-300 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-orange-600 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-orange-700\",children:[\"High volatility detected. Position sizes automatically reduced by \",((1-(tradingSignal.riskMultiplier||0.7))*100).toFixed(0),\"%\"]})]}),calculations.dailyVaR>4&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-red-600 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:\"Extreme risk level. Consider reducing exposure or hedging positions.\"})]})]})]})]})});}","map":{"version":3,"names":["React","useMemo","Card","CardContent","CardHeader","CardTitle","Tooltip","TooltipContent","TooltipProvider","TooltipTrigger","AlertTriangle","TrendingUp","DollarSign","Shield","Info","BarChart3","Activity","Target","AlertCircle","RISK_INDICATORS","calculateInstitutionalSmartMoneyScore","calculateInstitutionalTradingSignal","detectMarketRegime","calculateOptimalPositionSize","backtestSignalPerformance","jsx","_jsx","jsxs","_jsxs","InstitutionalDashboard","_ref","_tradingSignal$signal","_tradingSignal$recomm","_tradingSignal$recomm2","_tradingSignal$recomm3","_tradingSignal$recomm4","_tradingSignal$recomm5","_tradingSignal$recomm6","_tradingSignal$recomm7","_tradingSignal$recomm8","_tradingSignal$recomm9","_smartMoneyScore$scor","_tradingSignal$recomm0","_tradingSignal$recomm1","_tradingSignal$factor","_calculations$dailyVa","_calculations$sharpeR","_latest$_flows","_latest$_flows2","_latest$_flows3","_latest$_flows4","_latest$_flows5","_latest$_flows6","_optimalPosition$reas","_tradingSignal$recomm10","_tradingSignal$recomm11","_tradingSignal$riskMu","data","unitScale","FUND_SIZE","latestIndex","length","latest","smartMoneyScore","score","breakdown","tradingSignal","signal","factors","positionSize","marketRegime","optimalPosition","size","leverage","reasoning","signalBacktest","calculations","returns","i","Math","min","ret","close","push","avgReturn","reduce","a","b","variance","sum","pow","volatility","sqrt","dailyVaR","avgVolume","slice","d","volume","safeTradeSize","positionVaR","sharpeRatio","formatKRW","num","absNum","abs","concat","toFixed","toLocaleString","children","className","replace","recommendation","action","description","interpretation","targetAllocation","confidence","style","width","map","factor","idx","name","weight","value","marginLeft","phase","accuracy","totalSignals","correctSignals","VaR","expert","LIQUIDITY","SHARPE","Object","entries","_ref2","key","trim","_flows","외국인","기관합계","개인","reason","stopLoss","riskMultiplier"],"sources":["C:/Users/kloud/OneDrive/Desktop/Paradise/src/components/InstitutionalDashboard.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"./ui/tooltip\";\nimport { AlertTriangle, TrendingUp, DollarSign, Shield, Info, BarChart3, Activity, Target, AlertCircle } from \"lucide-react\";\nimport { RISK_INDICATORS } from \"../constants/indicatorDescriptions\";\nimport { \n  calculateInstitutionalSmartMoneyScore, \n  calculateInstitutionalTradingSignal,\n  detectMarketRegime,\n  calculateOptimalPositionSize,\n  backtestSignalPerformance\n} from \"../utils/institutionalAnalytics\";\n\nexport default function InstitutionalDashboard({ data, unitScale }) {\n  // 포트폴리오 가정 금액 (예시)\n  const FUND_SIZE = 100000000; // 1억원\n  const latestIndex = data.length - 1;\n  const latest = useMemo(() => data[latestIndex] || {}, [data, latestIndex]);\n  \n  // Advanced Analytics Calculations\n  const smartMoneyScore = useMemo(() => {\n    if (data.length < 60) return { score: 0, breakdown: {} };\n    return calculateInstitutionalSmartMoneyScore(data, latestIndex);\n  }, [data, latestIndex]);\n  \n  const tradingSignal = useMemo(() => {\n    if (data.length < 60) return { signal: 0, factors: [], positionSize: {} };\n    return calculateInstitutionalTradingSignal(data, latestIndex);\n  }, [data, latestIndex]);\n  \n  const marketRegime = useMemo(() => {\n    if (data.length < 60) return 'UNKNOWN';\n    return detectMarketRegime(data, latestIndex);\n  }, [data, latestIndex]);\n  \n  const optimalPosition = useMemo(() => {\n    if (data.length < 60) return { size: 0, leverage: 1, reasoning: [] };\n    return calculateOptimalPositionSize(data, latestIndex, FUND_SIZE);\n  }, [data, latestIndex]);\n  \n  const signalBacktest = useMemo(() => {\n    if (data.length < 100) return null;\n    return backtestSignalPerformance(data);\n  }, [data]);\n\n  // 리스크 계산\n  const calculations = useMemo(() => {\n    if (!data || data.length < 20) return {};\n\n    // 변동성 계산 (20일)\n    const returns = [];\n    for (let i = 1; i < Math.min(data.length, 21); i++) {\n      const ret = (data[i].close - data[i-1].close) / data[i-1].close;\n      returns.push(ret);\n    }\n    \n    const avgReturn = returns.reduce((a, b) => a + b, 0) / returns.length;\n    const variance = returns.reduce((sum, ret) => sum + Math.pow(ret - avgReturn, 2), 0) / returns.length;\n    const volatility = Math.sqrt(variance) * Math.sqrt(252); // 연율화\n\n    // VaR 계산 (95% 신뢰수준)\n    const dailyVaR = volatility / Math.sqrt(252) * 1.65;\n    \n    // 일평균 거래대금 (최근 20일)\n    const avgVolume = data.slice(-20).reduce((sum, d) => sum + (d.close * d.volume), 0) / 20;\n    \n    // 최대 안전 거래 가능 금액 (일평균의 5%)\n    const safeTradeSize = avgVolume * 0.05;\n    \n    // 현재 포지션 가정 (전체 펀드의 0.1%)\n    const positionSize = FUND_SIZE * 0.001;\n    const positionVaR = positionSize * dailyVaR;\n\n    return {\n      volatility: volatility * 100,\n      dailyVaR: dailyVaR * 100,\n      positionVaR,\n      avgVolume,\n      safeTradeSize,\n      positionSize,\n      sharpeRatio: avgReturn > 0 ? (avgReturn * 252) / volatility : 0\n    };\n  }, [data]);\n\n  // Removed unused flowScore calculation as it's now replaced by smartMoneyScore\n\n  const formatKRW = (num) => {\n    const absNum = Math.abs(num);\n    if (absNum >= 1000000000000) return `${(num / 1000000000000).toFixed(1)}조원`;\n    if (absNum >= 100000000) return `${(num / 100000000).toFixed(1)}억원`;\n    if (absNum >= 10000) return `${(num / 10000).toFixed(0)}만원`;\n    return `${num.toLocaleString()}원`;\n  };\n\n  return (\n    <TooltipProvider>\n      <div className=\"space-y-4\">\n        {/* 헤더 */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\n            <BarChart3 className=\"w-6 h-6\" />\n            Quant Trading Dashboard\n          </h2>\n          <div className=\"flex items-center gap-2\">\n            <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n              marketRegime === 'BULL_TRENDING' ? 'bg-green-100 text-green-800' :\n              marketRegime === 'BEAR_TRENDING' ? 'bg-red-100 text-red-800' :\n              marketRegime === 'HIGH_VOLATILITY' ? 'bg-orange-100 text-orange-800' :\n              marketRegime === 'RANGE_BOUND' ? 'bg-gray-100 text-gray-800' :\n              marketRegime === 'BREAKOUT_POTENTIAL' ? 'bg-purple-100 text-purple-800' :\n              'bg-blue-100 text-blue-800'\n            }`}>\n              Market: {marketRegime?.replace('_', ' ')}\n            </span>\n          </div>\n        </div>\n        \n        {/* Primary Signal Card */}\n        <Card className=\"border-2 border-purple-300 bg-gradient-to-r from-purple-50 to-indigo-50\">\n          <CardContent className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {/* Trading Signal */}\n              <div className=\"text-center\">\n                <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Trading Signal</h3>\n                <div className={`text-4xl font-bold mb-2 ${\n                  tradingSignal.signal > 30 ? 'text-green-600' :\n                  tradingSignal.signal < -30 ? 'text-red-600' :\n                  'text-yellow-600'\n                }`}>\n                  {tradingSignal.signal?.toFixed(0) || 0}\n                </div>\n                <div className={`px-3 py-1 rounded-full text-sm font-medium inline-block ${\n                  tradingSignal.recommendation?.action === 'STRONG BUY' ? 'bg-green-600 text-white' :\n                  tradingSignal.recommendation?.action === 'BUY' ? 'bg-green-500 text-white' :\n                  tradingSignal.recommendation?.action === 'ACCUMULATE' ? 'bg-green-400 text-white' :\n                  tradingSignal.recommendation?.action === 'HOLD' ? 'bg-yellow-500 text-white' :\n                  tradingSignal.recommendation?.action === 'REDUCE' ? 'bg-orange-500 text-white' :\n                  tradingSignal.recommendation?.action === 'SELL' ? 'bg-red-500 text-white' :\n                  tradingSignal.recommendation?.action === 'EXIT' ? 'bg-red-600 text-white' :\n                  'bg-gray-500 text-white'\n                }`}>\n                  {tradingSignal.recommendation?.action || 'WAIT'}\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {tradingSignal.recommendation?.description}\n                </p>\n              </div>\n              \n              {/* Smart Money Score */}\n              <div className=\"text-center\">\n                <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Smart Money Score</h3>\n                <div className={`text-4xl font-bold mb-2 ${\n                  smartMoneyScore.score > 65 ? 'text-blue-600' :\n                  smartMoneyScore.score < 35 ? 'text-red-600' :\n                  'text-gray-600'\n                }`}>\n                  {smartMoneyScore.score?.toFixed(0) || 0}\n                </div>\n                <p className=\"text-xs text-gray-600\">\n                  {smartMoneyScore.interpretation}\n                </p>\n              </div>\n              \n              {/* Position Sizing */}\n              <div className=\"text-center\">\n                <h3 className=\"text-sm font-medium text-gray-600 mb-2\">Optimal Position</h3>\n                <div className=\"text-2xl font-bold text-indigo-600 mb-1\">\n                  {formatKRW(optimalPosition.size)}\n                </div>\n                <p className=\"text-xs text-gray-600\">\n                  Leverage: {optimalPosition.leverage}x\n                </p>\n                <p className=\"text-xs text-gray-500\">\n                  {tradingSignal.recommendation?.targetAllocation}\n                </p>\n              </div>\n            </div>\n            \n            {/* Signal Confidence Bar */}\n            <div className=\"mt-4 pt-4 border-t border-purple-200\">\n              <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-sm font-medium\">Signal Confidence</span>\n                <span className=\"text-sm font-bold\">\n                  {tradingSignal.confidence || tradingSignal.recommendation?.confidence || '0%'}\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className=\"bg-gradient-to-r from-purple-500 to-indigo-500 h-2 rounded-full transition-all duration-500\"\n                  style={{ width: `${tradingSignal.confidence || 0}%` }}\n                />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        \n        {/* Signal Factors Breakdown */}\n        <Card className=\"border-2 border-indigo-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-indigo-700\">\n              <Activity className=\"w-5 h-5\" />\n              Signal Components Analysis\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              {tradingSignal.factors?.map((factor, idx) => (\n                <div key={idx} className=\"p-3 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center justify-between mb-1\">\n                    <span className=\"text-sm font-medium\">{factor.name}</span>\n                    <Tooltip>\n                      <TooltipTrigger>\n                        <Info className=\"w-3 h-3 text-gray-400\" />\n                      </TooltipTrigger>\n                      <TooltipContent>\n                        <p>Weight: {(factor.weight * 100).toFixed(0)}%</p>\n                        {factor.description && <p>{factor.description}</p>}\n                      </TooltipContent>\n                    </Tooltip>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                      <div \n                        className={`h-2 rounded-full transition-all duration-300 ${\n                          factor.value > 0 ? 'bg-green-500' : 'bg-red-500'\n                        }`}\n                        style={{ \n                          width: `${Math.min(100, Math.abs(factor.value))}%`,\n                          marginLeft: factor.value < 0 ? 'auto' : '0'\n                        }}\n                      />\n                    </div>\n                    <span className={`text-sm font-bold min-w-[3rem] text-right ${\n                      factor.value > 0 ? 'text-green-600' : \n                      factor.value < 0 ? 'text-red-600' : 'text-gray-600'\n                    }`}>\n                      {typeof factor.value === 'number' ? factor.value.toFixed(0) : factor.value}\n                    </span>\n                  </div>\n                  {factor.phase && (\n                    <p className=\"text-xs text-gray-500 mt-1\">{factor.phase}</p>\n                  )}\n                </div>\n              ))}\n            </div>\n            \n            {/* Backtest Performance */}\n            {signalBacktest && (\n              <div className=\"mt-4 p-4 bg-indigo-50 rounded-lg\">\n                <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                  <Target className=\"w-4 h-4\" />\n                  Signal Performance (Last 60 days)\n                </h4>\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-gray-600\">Accuracy:</span>\n                    <p className=\"font-bold text-lg\">{signalBacktest.accuracy.toFixed(1)}%</p>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">Total Signals:</span>\n                    <p className=\"font-bold text-lg\">{signalBacktest.totalSignals}</p>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-600\">Correct:</span>\n                    <p className=\"font-bold text-lg\">{signalBacktest.correctSignals}</p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* 리스크 관리 대시보드 */}\n        <Card className=\"border-2 border-red-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-red-700\">\n              <Shield className=\"w-5 h-5\" />\n              리스크 관리 센터\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {/* VaR */}\n              <div className=\"p-4 bg-red-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold\">일일 VaR</h3>\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-500\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p className=\"font-semibold mb-1\">{RISK_INDICATORS.VaR.name}</p>\n                      <p>{RISK_INDICATORS.VaR.expert}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </div>\n                <p className=\"text-2xl font-bold text-red-600\">\n                  {calculations.dailyVaR?.toFixed(2)}%\n                </p>\n                <p className=\"text-sm text-gray-600\">\n                  포지션 VaR: {formatKRW(calculations.positionVaR || 0)}\n                </p>\n              </div>\n\n              {/* 유동성 */}\n              <div className=\"p-4 bg-blue-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold\">유동성 분석</h3>\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-500\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p className=\"font-semibold mb-1\">{RISK_INDICATORS.LIQUIDITY.name}</p>\n                      <p>{RISK_INDICATORS.LIQUIDITY.expert}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </div>\n                <p className=\"text-sm\">일평균 거래대금</p>\n                <p className=\"text-xl font-bold\">{formatKRW(calculations.avgVolume || 0)}</p>\n                <p className=\"text-sm text-blue-600 mt-1\">\n                  안전 거래 한도: {formatKRW(calculations.safeTradeSize || 0)}\n                </p>\n              </div>\n\n              {/* 샤프 비율 */}\n              <div className=\"p-4 bg-green-50 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold\">샤프 비율</h3>\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-500\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p className=\"font-semibold mb-1\">{RISK_INDICATORS.SHARPE.name}</p>\n                      <p>{RISK_INDICATORS.SHARPE.expert}</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </div>\n                <p className=\"text-2xl font-bold text-green-600\">\n                  {calculations.sharpeRatio?.toFixed(2) || \"N/A\"}\n                </p>\n                <p className=\"text-sm text-gray-600\">\n                  {calculations.sharpeRatio > 2 ? \"우수\" : \n                   calculations.sharpeRatio > 1 ? \"양호\" : \n                   calculations.sharpeRatio > 0.5 ? \"보통\" : \"미흡\"}\n                </p>\n              </div>\n            </div>\n\n            {/* 리스크 경고 */}\n            {calculations.dailyVaR > 3 && (\n              <div className=\"mt-4 p-4 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n                <p className=\"text-red-700 font-medium\">\n                  경고: 높은 변동성 감지. 포지션 축소를 검토하세요.\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Enhanced Smart Money Flow Analysis */}\n        <Card className=\"border-2 border-blue-200\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-blue-700\">\n              <DollarSign className=\"w-5 h-5\" />\n              Smart Money Flow Analysis\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {/* Smart Money Score Breakdown */}\n              <div className=\"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg\">\n                <h3 className=\"font-semibold mb-3\">Score Components</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                  {Object.entries(smartMoneyScore.breakdown || {}).map(([key, value]) => (\n                    <div key={key} className=\"text-sm\">\n                      <span className=\"text-gray-600 capitalize\">\n                        {key.replace(/([A-Z])/g, ' $1').trim()}:\n                      </span>\n                      <span className={`ml-2 font-bold ${\n                        value > 0 ? 'text-green-600' : \n                        value < 0 ? 'text-red-600' : 'text-gray-600'\n                      }`}>\n                        {typeof value === 'number' ? value.toFixed(1) : value}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* 주체별 상세 */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                    스마트머니\n                    <Tooltip>\n                      <TooltipTrigger>\n                        <Info className=\"w-4 h-4 text-gray-500\" />\n                      </TooltipTrigger>\n                      <TooltipContent className=\"max-w-xs\">\n                        <p>외국인 + 기관의 합계. 정보력과 자금력을 갖춘 투자 주체입니다.</p>\n                      </TooltipContent>\n                    </Tooltip>\n                  </h4>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span>외국인</span>\n                      <span className={`font-bold ${(latest._flows?.외국인 || 0) > 0 ? 'text-red-600' : 'text-blue-600'}`}>\n                        {formatKRW(latest._flows?.외국인 || 0)}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>기관</span>\n                      <span className={`font-bold ${(latest._flows?.기관합계 || 0) > 0 ? 'text-red-600' : 'text-blue-600'}`}>\n                        {formatKRW(latest._flows?.기관합계 || 0)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <h4 className=\"font-medium mb-2\">개인</h4>\n                  <div className=\"flex justify-between\">\n                    <span>개인</span>\n                    <span className={`font-bold ${(latest._flows?.개인 || 0) > 0 ? 'text-red-600' : 'text-blue-600'}`}>\n                      {formatKRW(latest._flows?.개인 || 0)}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Advanced Position Management */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <TrendingUp className=\"w-5 h-5\" />\n              Risk-Adjusted Position Management\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg\">\n                <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                  Kelly-Optimized Position\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-400\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p>Position size calculated using Modified Kelly Criterion with 25% fractional Kelly for safety</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </h4>\n                <p className=\"text-2xl font-bold text-green-700 mb-2\">\n                  {formatKRW(optimalPosition.size)}\n                </p>\n                <div className=\"space-y-1 text-xs text-gray-600\">\n                  {optimalPosition.reasoning?.map((reason, idx) => (\n                    <p key={idx}>• {reason}</p>\n                  ))}\n                </div>\n              </div>\n              \n              <div className=\"p-4 bg-gradient-to-br from-red-50 to-orange-50 rounded-lg\">\n                <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n                  Dynamic Risk Controls\n                  <Tooltip>\n                    <TooltipTrigger>\n                      <Info className=\"w-4 h-4 text-gray-400\" />\n                    </TooltipTrigger>\n                    <TooltipContent className=\"max-w-xs\">\n                      <p>Risk limits adjusted based on market regime and volatility</p>\n                    </TooltipContent>\n                  </Tooltip>\n                </h4>\n                <div className=\"space-y-2\">\n                  <div>\n                    <span className=\"text-sm text-gray-600\">Stop Loss:</span>\n                    <p className=\"font-bold text-red-600\">\n                      {tradingSignal.recommendation?.stopLoss || '진입가 -5%'}\n                    </p>\n                  </div>\n                  <div>\n                    <span className=\"text-sm text-gray-600\">Target Allocation:</span>\n                    <p className=\"font-bold text-orange-600\">\n                      {tradingSignal.recommendation?.targetAllocation || '5-10%'}\n                    </p>\n                  </div>\n                  <div>\n                    <span className=\"text-sm text-gray-600\">Risk Multiplier:</span>\n                    <p className=\"font-bold\">\n                      {tradingSignal.riskMultiplier?.toFixed(2) || '1.00'}x\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* Risk Warnings */}\n            {marketRegime === 'HIGH_VOLATILITY' && (\n              <div className=\"mt-4 p-3 bg-orange-100 border border-orange-300 rounded-lg flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-orange-600 flex-shrink-0\" />\n                <p className=\"text-sm text-orange-700\">\n                  High volatility detected. Position sizes automatically reduced by {((1 - (tradingSignal.riskMultiplier || 0.7)) * 100).toFixed(0)}%\n                </p>\n              </div>\n            )}\n            \n            {calculations.dailyVaR > 4 && (\n              <div className=\"mt-4 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-red-600 flex-shrink-0\" />\n                <p className=\"text-sm text-red-700\">\n                  Extreme risk level. Consider reducing exposure or hedging positions.\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </TooltipProvider>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}